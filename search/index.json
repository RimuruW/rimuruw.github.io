[{"content":"记 Gnome 的初体验 长期以来，我使用 KDE 而非 Gnome。劝退我的不只网上关于 Gnome 的负面言论诸如“Gnome 资源占用大”、“扩展 bug 多”、“开发线混乱，整个项目四分五裂”等，还有 Linus 在 Google＋ 中描述 Gnome “无可容忍的凌乱”。\n反观 KDE 却是出奇的一致好评，比如“最小的等离子桌面”、“高度可自定义”、“界面统一，新手易使用”等。\n因此，我几乎没有任何纠结地选择了 KDE（重要原因还是当时电脑配置太低，所以后面又换 Xfce 了\u0026hellip;)\n无奈地一次 Gnome 尝试 是的，是“无奈的一次尝试”。\n起因是 KDE 出现“合盖睡死”、“合盖再开盖花屏”等问题。\n强迫症的我当然不能忍受开机就铺面而来的撕裂感。对于不喜欢经常关机的我来说，如果仅 睡眠/挂起 意味着每次开机一片刺眼的条纹，那么继续使用 KDE 基本上可以帮助我戒掉电脑了（强迫症的挣扎）。\n长时间地查教程、社区提问无果后，我逐渐放弃了挣扎，并在纠结很久之后选择装了一个 Windows 10（至少这台电脑的 Windows 支持非常完善，Windows 10 不会开盖花屏）。\n这件事让我很沮丧，第一次因为自己能力不够而被迫选择自己所抗拒的 Windows 到底是一件让人开心不起来的事情。我将我的想法这样传达给了我的一个朋友，那个朋友这样反问，“为什么不试试 Gnome 呢？”\n我当然下意识拒绝了，理由便是开篇那些网上的负面言论。但是拒绝后的那个下午，我反复想起”使用 Gnome“的提议。\n既然别无选择，为什么不给 Gnome 一个机会呢？（态度好像不太对\n意料之外：Gnome 给我的惊喜 经过一番熟练的操作（别问我我为什么这么熟练），我完成了 Arch Linux + Gnome 的安装。\n重启第一眼看到的 GDM 就给了我一个惊喜——精致的 MD 设计，简约大方，一瞬间让我不敢想起 SDDM 那土掉渣的开机界面（我当然知道 SDDM 主题，但是 SDDM 主题很少有能做到 GDM 这般简约与美观并重）。\n在几分钟的试体验中，Gnome 精致的 MD 设计接近颠覆了我对 Linux 桌面一贯的认知。KDE 高自定义当然很好，但是不如 Gnome 这般简直为我的简约向审美量身定制。\n（不要和我说 Gnome 的默认应用图标，那玩意差点弄瞎了我的眼睛）\n比如说大家最熟悉的 VS Code,图标是这样的：\n 你敢相信这个是 VS Code？ \n大概感觉是，看完这默认的图标设计，我感觉我挺有当设计师的天赋。\n在确定 Gnome 合盖不会花屏之后，我可以肯定，Gnome 将会是我未来很长一段时间的 Linux 桌面环境解决方案。\n与 Gnome bug 的搏斗 第一回合：下马威，GDM 的罢工 如上文所说，我不喜欢经常关机，所以直到当我装 VMware 需要重启的时候，我才发现原来这 GDM 是一次性产品，就第一次开机能一睹它尊容（\n具体 bug 表现为内核启动后，电脑一直卡在光标闪动界面而没出现 GDM（显示管理器）。刚开始我寻思可能是 VMware 有点傲娇，重启开机系统的工作量有点大（自欺欺人ing\u0026hellip;)，所以开机稍微慢了了一点。加上这光标一直在闪，而我暂时也不急着用电脑，所以姑且耐心地等了下来，直到半个小时后我与电脑漆黑屏幕里闪动的光标从相顾无言到怒目而向。\n好吧，大概是挂了。没想到自己 Arch Linux 第一次嗝屁居然不是因为滚挂了，而是新系统的第一次重启\u0026hellip;\n我仔细进行了一番思考，简单罗列一下可能的原因，最后得出了结论：可能又要重装了。\n重装就重装吧，在第二次安装过程中，我根据我罗列的原因略微修改了一下我一贯的安装过程（其实就是简化一些安装步骤），并把文件系统从 Btrfs 改为了 ext4（事后我追悔莫及\u0026hellip;)\n在一番熟练的操作下，我两三下完成了 Arch Linux 的安装，接着满怀激动地进入了桌面，然后满怀期待的点击了重启，最后不出所料地又卡在了开机界面。\n我已经准备好加 tag 了，比如 #Gnome无法开机 #GDM无法启动 #ArchLinux卡开机光标\n在此之前，我先进 tty 简单确认了一下日志。嗯，好像是 Gnome 挂了。\n嗯？啥？Gnome 挂了？\n我认识到了这不是我能独立解决的问题，于是我光荣地在 Arch Linux CN 社区再次开展了我的 小白灵魂三问 真挚且虚心的提问。\n经过一番大家都摸不到头脑的瞎折腾之后，我终于得到一句有用（表意明确）的话：“我们也不知道什么情况，你先按照你的想法试试。”（我：？？？）\n于是在遍历 Arch Wiki 之后，我发现 Arch Wiki GDM 的 Troubleshooting 居然有和我情况一模一样的问题解决方案。\nArch Wiki 的描述及解决方案如下：\n GDM shows black screen with blinking white cursor  After booting, GDM may present you with a black screen with a blinking white cursor in the top left. This may be caused by GDM starting before graphics drivers are fully initialized. One possible workaround is to start KMS early. Another possible workaround is to edit the systemd service and either set its type to \u0026ldquo;idle\u0026rdquo; or add a small delay:\n[Service] Type=idle or\n[Service] ExecStartPre=/bin/sleep 2 If a longer delay is required, increase the delay time.\n看完 Wiki 的我猛拍大腿。对啊，提前启动 KMS，我咋没想到呢？？\n于是继续顺着超链接看了下去。\n嗯，在/etc/mkinitcpio.conf添加模块（MODULES），我是 AMD 核显所以应该添加amdgpu。\n所以应该是\nMODULES=(amdgpu) #又不是旧架构，我为啥要加 radeon？ 修改完后保存退出重启，再次开机的时候，我终于看见了我久违的 GDM。\n确保这次开机不是偶然，我特意再重启了一遍，然后\u0026hellip;\u0026hellip;又卡在那个光标了。\n我凭借自己强大的心理素质忍住了想哭的冲动，平复心情后把 Arch Wiki 给出的所有方案操作了一遍，然后基本确定，我上一次开机真的只是偶然事件（\n抱着破罐子破摔的态度，我开始尝试我能想到的玄学方法，比如安装 linux-zen 内核（据说专为 Arch Linux 用户定制，对笔记本有玄学优化的神奇内核）。然后，就真开机了\u0026hellip;\u0026hellip;\n是的，这次不是偶然事件了。截至我先这篇博文，我亲爱的 GDM 都 works very well。感谢 linux-zen 鼎力相助以及 GDM 的手下留情，不然我就真的可能把 GDM 换 SDDM 或 LightDM 试试了（雾）。\n第二回合：下酒菜，薛定谔的桌面动画 考虑到如果要将这次较量完整的记录下来，5000 字可能不够写大纲。因此，我只记录我印象最深刻的 显示应用程序动画。\n起因是每次点击 Dock 栏的抽屉（姑且先这样叫吧），动画都有一种莫名的卡顿感。我是一个很少在意动画的人，但动画明显的不和谐感引发了我的疑惑。仔细想了想，我感觉我电脑配置算不上高但怎么也不至于带不动一个桌面的动画。于是我特意仔细观察了一下点击 Dock 栏抽屉的动画，然后发现了问题所在。\n我觉得我的语言很难向别人表述清楚问题所在，但是考虑到我博客好像只有自己看，那就按照我的感觉描述，自己能懂就好了（bushi\n简单来说，我只点击了抽屉一次，而 Dock 栏抽屉的动画显示了两次。\n具体表现为，桌面在我点击后先显示了应用列表，然后再显示了一个扩散开来的 Dock 栏抽屉点击动画。我猜这可能是扩展动画和桌面自带动画冲突的缘故。不出所料，我在 Dash To Dock 扩展中找到了 动画方式 -显示应用程序 这个选项。\n Dash To Dock-启动项 \n关闭该选项后，动画的不和谐感消失。\n当然，对于内心追求完美的我来说，一切本应还没有结束。考虑到 Gnome 扩展都是为 Gnome 定制的，扩展作者怎么可能加这种明显有问题的功能呢？最可能的情况是，这个功能本应该在某种情况下正常工作，但是我当前环境不满足扩展正常工作所需条件，因此才会出现这个 bug。\n我当然也更喜欢扩展提供的动画，但是在网上找很久都没有找到相关解决方案后，我还是决定放弃该动画，毕竟使用 Linux 不应把过多的时间放在美化上（才不是为自己找借口）。\n第三回合：压轴戏，无尽 bug 无尽 bug，故名思义，即为我对目前 Gnome 使用体验的描述。如果要形象一点表述，我只能说，我感觉我被虫子包围了。\n是的，Gnome 日常使用如果加上扩展的话 bug 太多了\u0026hellip;每天体验不同的 bug或者也是一种乐趣吧？\nGnome 中我的扩展与美化 该节仅为记录备份，请勿照搬安装我截图中的扩展。\n 我的扩展1 \n 我的扩展2 \n 我的扩展3 \n 我的扩展4 \n各人审美不同，请勿照用我使用的主题和字体。\n 我的主题搭配 \n 我的字体搭配 \n最后的桌面效果如图\n 我的桌面 \n有人评价说我的桌面像 Mac。说实话，装扮桌面的时候没有刻意模仿 Mac，完全是自己觉得怎么舒服怎么来。\n直到现在，我对我的图标包还是不算满意，但是换了几套还是找不到称心如意的，索性就将就着用吧。\nDock 放底栏是非高效率的做法！\nDock 放底栏是非高效率的做法！！\nDock 放底栏是非高效率的做法！！！\n正确的高效率布局应该是 Dock 放侧栏（即 Gnome 默认设置）。\n那我为啥把 Dock 放底栏呢？ 因为好看啊～\n使用小结 根据 Typora 的统计结果，这也是一篇 3000 字的长文了。粗略估计一下，我写这篇博文也花了三个多小时。实际上的写作体验由最开始的不知道写啥到后面的停不下来，还是非常舒畅的。我想这也是我这几天使用 Gnome 有很多有意思的体验，也有很多想法想分享给别人（虽然好像写了 3000 字，但实际上啥也没写）。\n其实一开始写这篇博文是想分享一下 Gnome 的效率工具\u0026amp;作业模式，但转念觉得教程性文章未免太没意思了一点，而目前整个博客几乎都是教程性文章，几乎看不出一个博客应有的样子，所以索性水了一篇这样的记录性博文。\n总而言之，希望将来的自己重新审视自己曾经写的博文的时候，能喜欢这篇文章。\n","date":"2021-02-23T01:26:46+08:00","permalink":"https://blog.linioi.com/posts/the-first-gnome-try/","title":"记 Gnome 的初体验"},{"content":"经历一番艰难的抉择与财力上的再三考量，我终于还是着手放弃原博客域名。\n更换域名的原因及旧域名处理方式 更换域名的原因有两个：\n .live 域名续费价格超出我的想象…根据我查询结果，即使是最便宜的域名注册商(境外)的续费价格也是 $16 以上。这大概是两个 .com 域名的续费价格了(按最便宜的域名注册商价格算)。考虑到我对 .live 域名后缀没有特别的需求(当初选择这个纯粹是因为腾讯云域名列表就它最便宜)，似乎没有坚持这个域名的必要了。 因为一系列原因，我对现域名注册商(腾讯云)由原来的略微反感到现在的强烈抵触。大概是不想被国内域名注册商喂💩，即使是国内域名注册商价格明显优势的情况下，我还是选择了国外的域名注册商(当然，是最便宜那种)。  目前对旧域名的处理方案是：\n 暂不出售（我感觉也没人会买） 保留绝大多数原旧域名链接并确保在未来几年里都可以正常访问。 设置部分关键链接的 301 重定向，*.linioi.com 将成为绝对的主域名 修改几乎所有我可编辑的文档中的 *.qingxu.live 为 *.linioi.com 对于以 @qingxu.live 为后缀的邮件地址采取保持收件但停止发件。在未来的几年里逐步把绑定 @qingxu.live 邮件地址的其他帐号换绑为 @linioi.com（那些不能换绑邮箱的平台真让人头疼）。  话说好像还有很多人博客友链也还是指向 *.qingxu.live，我该怎么通知他们呢……\n闲话 更换的新域名其实是思考近半年后的结果了。期间考虑过无数域名前缀，但总不满意字符的美观性(奇怪的审美增加了)及其代表的意义。当然，更关键的原因是我想到的域名都被注册了……最后选择的 linioi 其实是开始被否决了无数次的选项，但最后输入时却不由自主地输入了 linioi。或许是我平常 Linux 敲多了所以打字时有这样的下意识的举动，也或许是注定的奇妙的缘分，总之最后就是它了，凑合着也能用。\n倒是域名后缀几乎没有纠结。之前最心心念念的其实是 .moe 域名后缀，但是 $13.99（最低价格）的购买价格让我不敢多看……其他很多域名都是购买价格还算正常，续费价格高得离谱（比如 .ink 这样本来极其适合做博客的域名…）。在了解域名定价机制之后，我深刻认识到了 .com 域名虽然看起来昂贵（$8.99 起步），但实际上是最靠谱的那个域名——价格波动非常小而且续费价格稳定（泪）。并且 .com 域名是完全意义上的国际通用，换上 .com 域名的博客看起来就靠谱（虽然还是没人看）\n说起来我折腾博客等其他一系列网站已经近一年了，一年前的我或许也从未想过自己竟然为了愿意为了博客破费购买域名吧（当初想要搭建一个静态博客就是因为听说静态博客免费）。自己第一个域名还是 Freenom 上免费领的，当时想到我也有了一个自己的域名而不是用 GitHub 的 github.io 的时候可激动了，现在认识了那些免费域名的套路后不禁因为当时的自己笑了起来。\n所以换了新域名后，博客更新会勤快一点吗？\n","date":"2021-02-13T16:25:19Z","permalink":"https://blog.linioi.com/posts/change-to-new-domain/","title":"博客域名迁移"},{"content":"前言 作为一个 很少更新博客 热衷于折腾博客的小白玩家，博客的速度一直是我评估博客必不可少的一个方面。在曾经漫长的 Next 主题使用过程中，最能激发我兴趣的莫过于优化 Next 主题的样式和加载速度。\n可对于当时把博客托管 GitHub Pages 的我来说，不可避免的是国内极其尴尬的加载速度。为此，我尝试过把博客迁移到其他静态网站托管平台如 Netlify，但国内访问速度比起 GitHub Pages 也好不了多少，甚至还会出现服务器响应时间慢等问题……寻找一个足够理想的静态托管平台对于我来说是一个非常漫长的过程，即使是加载速度最令我满意的 Vercel 也不可避免网站刷新和域名问题。 （关于静态托管平台我可能会专门写一篇文章总结各大平台优缺点，这些暂且后话）\n为什么选择 Cloudflare 引用一句幽默且常被许多站长挂在口中的一句话：「网站的访问速度一直是与光速作斗争。」\n当访客访问一个网站的时候，他可能要面临的是与千里之外的某一台服务器建立连接，然后数据跋山涉水横跨千里最后出现在他的浏览器。而这个时间太长了，长到绝大多数访客都不愿意为此等待。因此，为了提升建立连接的速度，有了 HTTP 的升级；为了提升静态数据分发速度，有了 CDN。而 Cloudflare Workers Site 则宣布在此基础上他们再实现了一个重要的突破——将整个站点部署在网络边缘。\nCloudflare 拥有遍布全球的网络节点，200+ 数据中心让它的速度在全球范围内都有极其优秀的表现。与单纯的 CDN 相比，Cloudflare Workers Site 并不是将已缓存的静态资源放在边缘网络，让浏览器笨拙地跳转再跳转然后获取可能的最近最快的静态资源，而是直接将整个网站部署到全球边缘网络，让访客直接访问网站获取数据。于是，在高速访问的基础上，Cloudflare Workers Site 进一步减少了回源时间，让整个站点在数据传输上接近完美。而 Cloudflare Workers Site 自带可编辑的 index.js 更是可以衍生不少实用和有趣的玩法。\n在寻找理想的静态托管平台的过程中，Cloudflare Workers Site 无疑让我垂涎已久，只是 $5/Month 起步的订阅费用也让我这个脱贫路上的硬骨头望而却步，最终只能无奈转投他家。\n但令我不敢想象的是，Cloudflare 于 2020 年 11 月 28 日正式宣布：Cloudflare Workers KV 向 Workers Free Plan 免费开放。\n虽然我知道 Cloudflare 向来慷慨大方（从 Free Plan 的免费额度中就可见一斑了），但也实在没想到它会直接到将 Workers 的核心付费功能 Cloudflare Workers KV 直接免费开放。\n不仅如此，Cloudflare 还特意把 Workers KV 的单个文件大小限制由 10MB 调整到了 25MB，这无疑更方便了网站静态资源的存放。而每天 Workers 10w 次免费调用次数我想对于绝大多数站长还是绰绰有余的。\n全球边缘网络加速 + 慷慨大方的免费额度，既然找不到拒绝的理由，那么就勉为其难地接受吧~~\n常规部署 准备 CLI 部署工具 开始部署前，我们要先安装 Cloudflare Workers 的 CLI 管理工具 Wrangler。\nWrangler 可以通过 npm 或 cargo 安装。\nnpm i @cloudflare/wrangler -g # 你也可以使用 Yarn 安装 Wrangler # yarn global add @cloudflare/wrangler cargo install wrangler {% note info simple %} 经过实测，Wrangler 可能无法安装在 ARM 架构的设备上。如果可以，尽量使用 x86 设备。 {% endnote %}\n获取 API Token 如果你没有一个 Cloudflare 帐号，则需要先注册一个 Cloudflare 帐号，并绑定你的自定义域名。\n使用 Wrangler 前需要先 申请一个 API Token。\n在 API Token 申请界面选择「Edit Cloudflare Workers」模板。根据「所予权限最小化」的原则，建议删除默认权限模板中不需要的「Account」和「User」权限。\n初始化项目 在博客源码的根目录输入如下命令进行初始化\n# my-static-blog 是目录名称，你可以改成你喜欢的其他名字 wrangler init --site my-static-blog Wrangler 会依照 Cloudflare Workers Site 的模板在项目里新生成 workers-site 目录（默认）和 wrangler.toml 配置文件。我们需要手动对配置文件进行一些简单的自定义编辑。\n先使用文本编辑器打开 wrangler.toml 文件并依照你的需求进行修改\n[site] bucket = \u0026#34;./public\u0026#34; # 生成的 dist 路径，Hexo 和 Hugo 为 public，「.」的意思是当前目录 entry-point = \u0026#34;workers-site\u0026#34; # Cloudflare Workers Site 配置代码目录，默认 workers-site 目录 account_id = \u0026#34;\u0026#34; # Cloudflare Account ID，可在 Cloudflare 仪表盘或个人主页的网址处负责 workers_dev = false # 是否启用 workers.dev 子域名，推荐不启用 route = \u0026#34;blog.linioi.com/*\u0026#34; # Workers 路由配置，请指向你想绑定的自定义域名 zone_id = \u0026#34;\u0026#34; # 域名的 Zone ID，可在 Cloudflare 仪表盘查看 完成 wrangler.toml 的配置后，运行wrangler config命令并依照命令行提示输入上一步获取的 API Token。\n预览与部署 配置完成后，我们可以先输入如下命令预览一下部署效果。\nwrangler preview --watch Wrangler 会上传配置文件中设定的bucket路径的文件至 Cloudflare Workers KV，浏览器会自动打开一个窗口预览。\n确认无误后，输入如下命令进行部署\nwrangler publish 配置域名 DNS 解析 上面的操作只是上传了博客文件，如果想要访客正常访问还需要进行「域名 DNS 解析」。\n 如果你在前面修改配置文件时设置了「workers_dev=true」，则 Cloudflare 会自动分配给你一个三级域名，你可以在 DNS 解析设置处创建你的自定义域名的 CNAME 解析，指向 Cloudflare 分配的三级域名。 如果你在前面修改配置文件时设置了「workers_dev=false」，则在 DNS 解析设置处创建你自定义域名的 A 解析，指向 IP 2.2.2.2。  大功告成！ 如果一切正常，现在你可以输入你的自定义域名即可访问 你的博客。如果你想要实现更多的玩法，可以自己编辑 workers-site 下的 index.js。\n使用 GitHub Action 实现持续集成 如果你从未接触过 GitHub Action 自动部署，建议你先看一下我写的另一篇文章 GitHub Action 实现 Hexo 博客持续集成。\n与我写的另一篇文章略有不同，这里需要将文件推送到 Cloudflare Workers Site。我们可以 Cloudflare 官方 wrangler-action 轻松实现这一过程。\nwrangler-action 的使用同样需要设置 API Token。你可以选择使用上面生成的 API Token，也可以再申请一个 API Token，模板和权限与上面相同。\n然后再 GitHub 存放你博客源码的仓库添加 Secrets 变量 CF_WORKERS_TOKEN，内容为你申请的 API Token。\n最后在 GitHub Action 配置文件末尾加上如下代码进行部署。（注意缩进）\n- name: Deploy to Cloudflare Workers uses: cloudflare/wrangler-action@1.3.0 with: apiToken: ${{ secrets.CF_WORKERS_TOKEN }} 我的 GitHub Action 配置文件（仅供参考） name: GitHub Auto Builder For Blog on: push: branches: - master # schedule: # - cron: \u0026#39;0 21 * * *\u0026#39; env: TZ: Asia/Shanghai jobs: blog-cicd: name: Hexo build and deploy runs-on: ubuntu-latest strategy: matrix: node-version: - 12.x steps: - name: Checkout codes uses: actions/checkout@v2 - name: Use Node.js ${{ matrix.node-version }} uses: actions/setup-node@v1 with: node-version: ${{ matrix.node-version }} - name: Cache Node Dependencies id: cache uses: actions/cache@v1 with: path: .npm key: ${{runner.OS}}-npm-caches-${{ hashFiles(\u0026#39;package-lock.json\u0026#39;) }} - name: Clone themes run: | git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly - name: Install dependencies run: |npm install hexo-cli -g npm install - name: Generate files and gulp run: | hexo clean \u0026amp;\u0026amp; hexo generate \u0026amp;\u0026amp; gulp - name: Deploy to Cloudflare Workers uses: cloudflare/wrangler-action@1.3.0 with: apiToken: ${{ secrets.CF_WORKERS_TOKEN }} ","date":"2020-11-29T13:54:04Z","permalink":"https://blog.linioi.com/posts/deploy-blog-to-cf/","title":"利用 Cloudflare Workers Site 部署静态博客"},{"content":"  教程使用的 Minecraft 服务端程序为官方服务端程序，你可以根据自身需求下载第三方服务端程序以获取更好的插件支持。第三方服务端程序的运行方法可能与官方版不同。 教程不考虑设备可能出现的如性能或内存不足导致无法运行服务端程序、因审查地区网络原因导致的设备无法下载服务端文件程序等问题。如出现以上问题请自己寻找解决方法。 这里仅介绍 Linux 与 Android 的搭建方法。不介绍 Windows 是因为 Windows 搭建太简单了，而且网上教程实在有点多；不介绍 macOS 是因为买不起。   Linux 搭建教程  本节无特殊说明的话，所有 「#」均代表注释，所有可能需要 root 权限执行的命令均会在命令最前面加上 「sudo」。\n Linux 设备获取 你可以在家用电脑上安装 Linux，或者购置一台 Linux 服务器。无论如何，建议服务端设备内存大于 3G 且带宽大于 5M 以确保服务器连接稳定（如果联机人数少则相应配置可以低一点，具体配置需求建议自行测试）。\n如需购买服务器，建议购买按量计费的服务器以减少相应费用。大多数情况下，带宽可能是你首先应该考虑的方面。因此，请尽可能避开那些 1Mbps 带宽的「高性能服务器」，如果你不慎已入手一台，请尽早退款……\n以下是我个人用过的几个性价比较高的云服务厂商，个人评价仅供参考（毕竟我不是玩云主机的）。\n   厂商 优缺点 评价     谷歌云 优点：高速稳定，新用户有 $300 美元赠金（不过现在只有 90 天了）缺点：有点贵… 土豪和白嫖怪的不二之选   Vultr 优点：便宜，价格亲民，支持支付宝支付。缺点：相同价位性能偏低（貌似买它的人也不是奔着性能去的） 看网上多少 Vultr 的邀请链接你就懂了   阿里云 优点：经济实惠，按量付费价格可以接受缺点：国内厂商，使用需要实名…（你为什么不用阿里云国际版呢） 曾经的良心云（   腾讯云 优点：经济实惠，按量付费价格可以接受，最近优惠力度蛮大，大有做一个「良心云」的态度。优惠券：链接（含 AFF）。缺点：国内厂商，使用需要实名… 是不是良心云还需要观察…    SSH 连接服务器(家用设备请跳过)  SSH（Secure Shell）是一种加密的网络传输协议，可在不安全的网络中为网络服务提供安全的传输环境。SSH 通过在网络中创建安全隧道来实现 SSH 客户端与服务器之间的连接。\n  通过 SSH 连接你的服务器需要你的服务器已启用 SSH 服务并放行 SSH 服务端口(默认为 22)。\n Windows/macOS/Linux 设备 SSH 连接服务器 请根据你的系统类型打开终端 。Windows 为 cmd，同时按下 Win+R 后输入 cmd 并回车即可进入。\n 请确保你系统已安装 OpenSSH。目前已知 Windows 已于 2018 年集成 OpenSSH，macOS 已集成 OpenSSH，部分 Linux 发行版未集成 OpenSSH。\n对于未安装 OpenSSH 的系统，请手动安装 openssh 软件包。\n 在确认已安装 OpenSSH 后，输入如下命令连接你的服务器\nssh -p \u0026lt;port\u0026gt; \u0026lt;username\u0026gt;@\u0026lt;ip\u0026gt; #\u0026lt;port\u0026gt; 为 SSH 进程端口号，如默认端口号 22 可以省略。 #\u0026lt;username\u0026gt; 为服务器用户名，\u0026lt;ip\u0026gt; 为服务器 IP 地址 #以下是示例连接命令 #ssh root@127.0.0.1 输入命令后会要求你输入服务器密码，请输入你设置的服务器密码。建议使用 SSH 密匙登录服务器并禁用密码登录以保证服务器安全。\nAndroid 设备 SSH 连接服务器 请参照 Android 搭建教程-连接 Linux Deploy 容器。\n设置 JRE 下面是几种常见的 Linux 发行版的安装命令\n# Debian/Ubuntu sudo apt-get install -y default-jre-headless #CentOS 8.0+ sudo dnf install -y java-1.8.0-openjdk #对于 CentOS 8.0 以下的服务器，请输入下面的命令 #sudo yum install -y java-1.8.0-openjdk #Arch Linux sudo pacman -S --noconfirm jdk8-openjdk 下载 Minecraft 服务端  下载之前，你首先要了解 Minecraft 客户端 Java 版和基岩版的区别。\n 建议先建立一个专门的文件夹存放服务器数据。 示例命令如下：\nmkdir $HOME/minecraft 根据你的客户端平台，从以下两个链接中选择一个链接下载。\nJava 版请点击 https://www.minecraft.net/en-us/download/server\n基岩版请点击 https://www.minecraft.net/en-us/download/server/bedrock\n示例下载命令如下：\n# 如果创建了 minecraft 文件夹则先转到 minecraft 文件夹 # cd $HOME/minecraft wget https://launcher.mojang.com/v1/objects/f02f4473dbf152c23d7d484952121db0b36698cb/server.jar  注意，请务必将以上链接修改为你设备平台适用的服务端程序下载链接。\n 运行服务器端 确认文件已下载完成后，根据自己服务器端版本输入以下命令\njava -Xmx[初始启动分配内存] -Xms[最大分配内存] -jar [jar 包所在路径] nogui # 如果要使用其图形用户界面启动服务器端，则可以省略「 nogui」部分。 # 运行示例命令 #java -Xmx1024M -Xms1024M -jar minecraft_server.1.16.3.jar nogui # 基岩版下载的默认是 zip 文件，需要解压后使用 unzip bedrock-server*.zip #解压下载的 zip 文件 LD_LIBRARY_PATH=. ./bedrock_server Java 版服务端程序在第一次运行后会生成初始配置文件后自动中止。你可以用任意 Linux 文本编辑器（如 VIM、nano）打开服务器端目录下的eula.txt，然后将 eula=false 改为 eula=true。\n EULA 是 Minecraft 最终用户许可协议，修改为 true 即代表你同意许可协议。\n你当然可以不同意，不过与之对应的是服务端程序无法运行。\n 输入如下命令再次启动服务器端\n# 示例命令 java -Xmx1024M -Xms1024M -jar minecraft_server.1.16.3.jar nogui # 示例命令 LD_LIBRARY_PATH=. ./bedrock_server 如需停止服务端，请直接输入/stop或Ctrl+C。\n官方服务器端配置中默认开启了正版验证，意在禁止盗版客户端连接服务器端，但是在实际操作中可能会出现正版用户也无法连接的情况。如果你在确认配置无误后不能连接服务器，请将 server.properties 中的 online=true 改为 online=false。\n 如果你使用的是诸如谷歌云、微软云、阿里云这样 NAT 服务器，你可能需要进行内网 IP 端口转发才能正常连接服务器。\n 你可以点击这个链接以了解有关 server.properties 的配置。\n为服务器端会话稳定，建议安装 Screen 并在 Screen 会话中运行服务端程序，这是远优于 nohup 的后台运行解决方案。\n#Debian/Ubuntu sudo apt-get install -y screen #CentOS 8.0+ sudo dnf install -y screen #CentOS 8.0 以下请输入以下命令 #sudo yum install -y screen #Arch Linux sudo pacman -S --noconfirm screen 输入如下命令创建一个 screen 会话\nscreen -S mc Screen 其他基础命令：\n 创建会话：screen -S \u0026lt;name\u0026gt; 列出已创建对话：screen -ls 转到某一创建对话：screen -r \u0026lt;name/id\u0026gt;  更多命令可以查看该链接。\nAndroid 搭建教程  Android 搭建 Minecraft 服务器端的思路即先在 Android 上搭建 Linux 环境，然后再在 Linux 环境中运行服务端程序。\n因此，Android 搭建教程与 Linux 搭建教程高度相似。为避免重复，本节只叙述如何在 Android 上搭建一个基本可用 Linux 环境。\n  注意，Android 端搭建 Linux 环境需要 Android 手机已获取 root 权限。\n 配置 Linux Deploy 请从 Google Play Store 下载并安装 Linux Deploy 。\n 你可以尝试在其他渠道下载 Linux Deploy，但请尽可能确保 Linux Deploy 版本为最新版且为官方正版。\n 安装后打开 Linux Deploy，点击右下角的配置按钮，根据你的实际需求修改你的配置信息。\n  目前 Linux Deploy 只有 Debian 系 Linux 发行版可以基本正常使用，因此在配置中建议选择 Debian 系发行版以减少其他不必要的麻烦。 对于国内用户，建议将配置中的「源地址」修改为国内镜像源。 为避免异常，请将默认用户名「android」修改为 「root」。 请在「本地化」配置中修改配置为「zh_CN.UTF-8」。 请务必勾选 SSH 配置中的「启用 SSH 服务器」。   在完成你的自定义配置后，点击右上角菜单后选择「安装」，如果出现 root 权限请求，请「允许」。\n安装结束后，请先点击底部的「停止」停止容器，然后点击底部的「启动」启动容器。\n连接 Linux Deploy 容器 Linux Deploy 仅提供容器而不提供可操作的终端(你能接受浏览器作为终端的话当我没说)，这意味着我们需要自己再下载一个 SSH 客户端以连接容器。\nTermux 这里推荐使用 Termux 作为 SSH 客户端。\nTermux 作为一个强大的终端仿真器，集成了 Linux 环境，可自定义性高，对于有一定 Linux 使用经验的人来说非常方便。\n Termux 默认没有安装 openssh，需要输入pkg in -y openssh手动安装。\n对于审查地区，Termux 默认源的连接速度可能非常慢，可以输入如下命令更换清华源以提速\nsed -i \u0026#39;s@^\\(deb.*stable main\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/termux-packages-24 stable main@\u0026#39; $PREFIX/etc/apt/sources.list sed -i \u0026#39;s@^\\(deb.*games stable\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/game-packages-24 games stable@\u0026#39; $PREFIX/etc/apt/sources.list.d/game.list sed -i \u0026#39;s@^\\(deb.*science stable\\)$@#\\1\\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux/science-packages-24 science stable@\u0026#39; $PREFIX/etc/apt/sources.list.d/science.list  安装完 OpenSSH 后，输入以下命令连接 Linux Deploy 容器。\nssh \u0026lt;username\u0026gt;@\u0026lt;ip\u0026gt; #示例 #ssh root@127.0.0.1 输入该命令后会需要你输入密码，请输入你在 Linux Deploy 配置时设置的密码，密码在输入过程中无回显。\nJuice SSH 如果你终端使用经验不足，也可以选择小白友好的 Juice SSH。\n鉴于 Juice SSH 界面简洁易懂，这里不做过多描述。你只需输入在 Linux Deploy 配置时设置的 「用户名」和「密码」及容器的「 IP 地址」。如果是本机连接容器，IP 地址输入 「127.0.0.1」即可；如果是区域网内连接则输入安装容器的设备的「区域网 IP 地址」，区域网 IP 地址可以在手机「设置」查看。\n安装和配置 Minecraft 服务端 请参照 Linux 搭建教程。\n 鉴于手机 CPU 架构及性能，建议不要尝试在手机上搭建 Java 服务器\u0026hellip;\n  官方基岩版服务端程序可能无法在 Linux Deploy 容器中运行，建议改用第三方服务端程序，如 Nukkit。\n 连接服务器端   如果你希望在同一区域网下与其他玩家联机，则只需要处于同一区域网连接下即可。 如果你是在家用设备上搭建 Minecraft 服务器（即无公网 IP），则其他玩家无法在非同一区域网下连接你的 Minecraft 服务器。你可以通过 内网穿透 以实现公网环境连接内网设备。请注意相关安全防护以避免因内网穿透造成内网环境被攻击。Minecraft 基岩版内网穿透协议为 UDP 且需要本地端口与远程端口一致才可以正常连接。 公网设备请注意保护 IP 地址，毕竟某些闲人还是很多的。   如果是区域网内搭建的服务端，则在 IP 地址中填入服务端「区域网 IP 地址」，公网设备与内网穿透设备填写设备的公网 IP。端口填你在服务端配置文件中设置的端口（Java 版默认 25565，基岩版默认 19132）。\n 请注意检查你服务器防火墙设置中是否放行相应端口，未放行相应端口则客户端无法连接服务器端。\n以下给出参考的放行规则，具体操作方式和配置请根据你自己的情况选择。\n 名称：minecraft-rule 目标标记：minecraft-server 来源过滤条件：IP 地址范围 来源 IP 地址范围：0.0.0.0/0 协议或端口：Java 版选择 TCP，基岩版选择 UDP，然后在提供的字段中输入你配置文件中的端口号，Java 版默认 25565，基岩版默认 19132。   End 如果一切正常的话，你已经成功搭建并和你的小伙伴们一起进入游戏了，想不出什么话总结，只能祝你们玩得开心了😂。\n","date":"2020-10-30T22:33:32Z","permalink":"https://blog.linioi.com/posts/minecraft-build/","title":"Minecraft 服务器搭建教程"},{"content":"Aria2 是什么？  Aria2 是一款自由、跨平台命令行界面的下载管理器，该软件根据 GPLv2 许可证进行分发。支持的下载协议有：HTTP、HTTPS、FTP、Bittorrent 和 Metalink。\n\u0026ndash; 摘自 维基百科\n 如上所述，不同于其他下载器（如 IDM+）或闭源或付费，Aria2 在支持多种下载协议的基础上保持开源和免费，是目前最强大的下载器之一。\n为什么会有这篇文章 Aria2 固然强大，但是它的配置和使用并不像其他下载器全 GUI 化，这对某些新手来说非常不友好。即使已经有一众大佬出手降低 Aria2 的使用门槛（如 AriaNg 这样较完善和便利的 GUI 管理界面），但是配置 Aria2 依然足以劝退某些小白。\n为此，又有一众大佬制作 Aria2 Docker 和 Aria2 一键管理脚本，使得即便是小白也可以轻松完成 Aria2 的配置安装。\n遗憾的是，可能是因为大部分 Aria2 用户集中在 Linux 平台，这些 Aria2 一键管理脚本也一直仅支持 Linux 平台。为此，我基于 P3TERX 的 aria2.sh，制作了该一键管理脚本的 Termux 移植版 Aria2-Termux，便于 Android 用户一键安装、配置和管理 Aria2。\n但是考虑到 Termux 在普通 Android 用户中的使用普及度，我想一篇较为详细的说明性文章还是有必要的，于是便自己动手写了这样一篇简略的文章，暂作为 Aria2-Termux 的使用文档。\n下面，让我们开始…\n下载和安装 Termux 目前仅推荐以下两个下载渠道下载 Termux\n ~~Google Play Store： https://play.google.com/store/apps/details?id=com.termux~~   因为这些原因，Google Play 不再是受推荐的下载渠道。\n  F-Droid：https://f-droid.org/packages/com.termux/  如果因为网络原因无法正常访问 F-Droid，也可以在我的分享站下载。\n请勿交叉安装和更新这两个渠道的 Termux！即，如果你是在 Google Play Store 下载和安装 Termux，请勿在 F-Droid 下载安装包并覆盖安装。\n安装后打开 Termux，你会看到如大致下图所示的终端界面\n Termux 界面 \n 你的界面和我的截图会有些许不同，请不要惊慌，这是因为我已经对 Termux 进行了一些自定义。长得不像是正常现象 请不要害怕终端的黑屏白字，实际上你需要操作的东西非常简单，大部分终端里你看不懂的输出，都是你不需要关心的细节。 第一次打开可能会要求进行初始化，请耐心等待初始化完成。  下载和启动脚本 下面的步骤极为简单，你只要复制和粘贴下面我列出的命令并在 Termux 中输入并回车，不需要关心其他的任何细节。如果出现了报错则另说\nbash -c \u0026#34;$(curl -L https://raw.githubusercontent.com/RimuruW/Aria2-Termux/master/aria2.sh)\u0026#34;  输入命令后 Termux 会自动下载脚本，请耐心等待。脚本下载完成后，Termux 会自动启动脚本。  脚本启动成功后如下图\n 脚本启动后界面 \n后续启动脚本，如果你没有手动改变文件位置，则你只需要输入bash aria2.sh即可启动脚本。\n安装 Aria2 脚本启动后，请输入「1」并回车，脚本会自动下载和配置安装 Aria2。\n 输入命令后脚本可能会询问你是否更换 Termux 镜像源，如果你是国内用户，请选择输入「y」确认更换。 Aria2 的下载和安装需要一定时间，请耐心等待并保证 Termux 进程存活。  安装完成后脚本会自动启动 Aria2，安装并启动成功后界面如下图\n Aria2 安装和启动成功图 \n注意，为保证 Aria2 后台存活，脚本在启动 Aria2 会自动开启唤醒锁，这意味你退出 Termux 时需要手动在状态栏点击「Release wakerlock」后才能真正退出。  Release wakelock \n此时你已经完成了 Aria2 安装所需的基本步骤，你的手机上已经成功配置一个可用的 Aria2。\n使用 AriaNg 如上文所说，Aria2 是一个命令行下载工具，命令行的操作方式对于大多数用户来说还是极为不友好。这里我们借助 AriaNg 进行 Aria2 的图形化管理和操作。\n在脚本起始界面输入「7」查看 Aria2 配置信息如下图\n Aria2 配置信息 \n 对于大部分普通用户，你只需要复制下面 AriaNg 后的链接并在浏览器打开即可进入 AriaNg，其他细节属于你无需关心的内容\n  对于已经对 Aria2 有所了解的用户，请明确以下内容\n 大多数情况下，请将 Aria2 的地址设为 127.0.0.1 而非内网 IP，已确保连接在 Aria2 每次启动后都始终可用 如果你需要在其他同区域网设备上连接该设备，Aria2 地址请设为配置信息中的「内网 IP」   进入 AriaNg 并连接成功后界面如图所示\n AriaNg 连接成功 \n点击左上角的「新建」，输入下载链接后点击右上角「立即下载」即可以创建一个下载任务，下载的文件默认保存在 Download 文件夹中。\n 使用文档到此结束，其他细节请参照脚本内说明（我觉得脚本内说明已经很详细了…）。\n如果对 Aria2 其他细节感兴趣，请自行参阅网上文档。\n如果这个项目对你有帮助，请 Star 以让更多人发现这个项目并受益，你的支持是我持续维护和开发的动力！\n\n","date":"2020-10-17T22:19:36Z","permalink":"https://blog.linioi.com/posts/aria2-for-termux/","title":"Android 一键安装配置 Aria2"},{"content":"场景如下\nQQ/WeChat:\n A：我给你发消息你怎么半天没回？ 我：有事请 Telegram 联系，QQ/WeChat 随缘回复。 A：这跟 QQ/WeChat 私聊有什么区别？为什么要这么麻烦？ 我：（此处省略 1000+ 字）  忽然我意识到了，其实大部分人对自己的 IM 软件一无所知，那么一篇有必要的科普文章就应该开始动手了。Telegram 的优点当然不仅在于通知推送，但是我想从通知推送说起……\n声明  限于篇幅，这篇文章并不会太多牵扯到手机通知推送的技术细节。（毕竟主要是科普嘛~~） 文章内容仅代表作者个人认知和观点，欢迎发表你的观点。 文章内容限于作者能力可能存在某些错误，欢迎指出。  iOS 的通知推送 说起手机推送，不得不先提的是 iOS 的通知推送。\n即使你是一个数码小白，至少也听说过 iOS 通知的及时。当然，你可能看到的是吐槽 Android 通知多么垃圾，这其实是反衬 iOS 通知的强大。\n这里简单介绍一下 iOS 通知推送机制。\n本地推送 本地推送其实就是 App 的定时推送。App 注册本地推送通知，指定一个时间并在该时间推送通知。\n远程推送  前提已满足条件：App 已注册远程推送通知。\n Apple 开发者文档给出的推送过程示意图如下：  通知推送示意图 \n用文字描述过程如下：\n 软件需要推送通知 软件服务器将通知推送到 Apple Push Notification service（APNs） Apple Push Notification service（APNs） 将通知转发给用户。  可以看到，这全过程都是由 Apple Push Notification service（APNs）完成通知的接收与发送，并且最后的通知推送也是由系统进行统一推送。这一过程中，设备上的软件本身没有参与。\n也就是说，iOS 通知推送并不需要软件的后台运行。完全由 Apple Push Notification service（APNs）和 系统 完成通知推送的方式实现了最大化的通知效率。别羡慕了，羡慕就去买台果子吧。\nAndroid 的通知推送 这里首先为被风评被害多年的 404 小厂的操作系统辩解一番。人家一个官网都常年打不开的小公司，怎么可能实现像 Apple Push Notification service 这样大体量的通知推送服务。（雾）\n如你所见，由于某些众所周知的原因，Android 的系统推送通知一直处于一个尴尬的情况 (指国内) 。于是在长期以来的 Android 发展中，各大公司群策群力，纷纷贡献自己的金点子银点子，携手解决这一难题。\nGoogle 的 FCM 严格意义上来说，某 404 公司对于自己操作系统的推送服务还是有进行一番 无意义的挣扎 努力。\n 2010 年，在 Apple 推送通知服务发布后，Android 2.2 也马上推出了「云端至设备消息传递（Cloud to Device Messaging」，即 C2DM。\n2012 年 404 小厂推出「Google 云消息传递（Google Cloud Messaging）」，即 GCM。GCM 取代了 C2DM 并实现了更好的功耗表现，且对于开发者更加友好。\n2014 年某 404 小厂收购 Firebase 后，将 GCM 改名为「Firebase 云消息传递（Firebase Cloud Messaging）」，即 FCM。FCM 较之 GCM 则更进一步简化了推送服务相关的开发工作。\n  FCM 示意图 \n从原理上来看，FCM 和 APNs 一致，也是按照 软件服务器 ==\u0026gt; FCM 服务器 ==\u0026gt; 用户 这一流程实现的。\n也就是说，对于 Android 系统 FCM 推送，整个推送过程中的 通知的接收与发送 都由 FCM 完成。这一过程中，设备上的软件本身没有参与。\n虽然可能和你以前想象的不太一样，但是事实如此：Android 系统同样有一套较为完善的推送机制，这个推送机制绿色高效，实现原理类似于 Apple。\n不过想法是美好的，现实是残酷的。因为种种原因，FCM 在国内并不能正常使用，主要原因如下：\n FCM 依赖 Google Play Service 而绝大部分国内 Android 手机都阉割了 Google Play Service。 大部分国内 App 都没有注册 FCM（不支持 FCM）。 FCM 在国内的连接不稳定。  对于已安装 Google Play Service 的用户，可以在手机拨号盘输入 *#*#426#*#* 查看你当前的 FCM 连接状态。\n FCM 已连接示意图 \n各大互联网公司的解决方案 由上面的叙述我们可以知道，404 小厂的 FCM 是靠不住了，关键时刻还是需要我们自力更生，自给自足。\n事实上，这种小问题根本难不倒我们大天朝的互联网公司，以阿里巴巴等互联网巨头为首率先想出一种行之有效的解决方法——团结就是力量。\n可能上一段你看得有点懵，但不要紧，我给这种解决方法换一个更广为人知的名字你就熟了——链式启动。\n互联网公司通过自己的软件全家桶或和其他互联网公司相互合作，以相互唤醒的方式保证自己全家人后台存活，然后团结一致完成通知推送（当然也可能顺便干一点别的东西）。\n简单来说，如果这些软件中有一个不慎倒下了（后台被杀死），其他软件会迅速将其拉起，保证其在后台始终处于唤醒状态，让共用的推送通道保持活跃而不被系统杀死，以便消息能及时送达。\n这一方法简单粗暴，不仅体现了化繁为简这一哲学思想，更是弘扬了社会主义团结互助的精神，再次告诉我们什么叫做团结就是力量！（此处应有掌声）\n当然，这种方法还是有一点点小小的弊端，那就是手机耗电有点快，可能还会有点烫有点卡。但是瑕不掩瑜，这点小问题和这天才般的创意比起来算什么呢？\n手机厂商的推送服务 面对 群魔乱舞的 Android 推送问题，终究还是有手机厂商站了出来，模仿 Apple 和 404 小厂的做法建立了他们自己的推送服务，比如小米的「MiPush」。\n这些推送服务被集成在各厂商高度定制的 Android 系统中，作为系统级推送存在。手机厂商试图通过模仿 Apple 和 404 小厂实现同等程度的通知绿色与时效性。\n但想法是美好的，事实上，开发者不可能兼顾所有的厂商，为每个品牌的手机都适配对应的推送服务，能专门适配其中一家到两家已经是很良心了 (试图为某鹅狡辩) 。除此之外，虽然手机厂商的推送服务也可以在其它品牌的手机上正常使用，但并不能像在自家定制系统上一样实现系统级的推送，推送服务依旧需要后台常驻。\n也许是黎明的曙光——统一推送联盟 不知道你有没有听说过 Android 绿色应用公约。如果没有听说过也没关系，现在你知道了。\n 宗旨\n这是一项旨在推动 Android 生态中的优秀应用共同维护一个更加良性的『设备体验』而发起的开放公约。\n\u0026hellip;\n核心原则\n  完全遵照 Android 本身的演进方向（包括 Android O 所引入的新变化），积极引导和协助应用开发团队平滑完成对接 Android 最新变化的节奏，在确保应用核心功能不受影响的前提下，减少不必要的应用后台行为，并以更加高效、节能的调度机制改善后台行为的调度。\n  公约的必要规约中，只纳入可被明确验证的条款，不接受需要主观裁量或定义模糊的条款（例如涉及交互设计的内容）。\n  所有约束条款均给出推荐的最佳实践或具有可操作性的调整方法。\n  涉及到功能与设备体验之间的潜在冲突时，遵循最终选择权给予用户的原则。\n  ——《Android 绿色应用公约 4.0》\n 虽然在我看来公约里的部分 App 也不怎么绿色。\n我们可以看到，在 Android 绿色应用公约中的互联网大公司的软件屈指可数。（好吧，别自欺欺人了，是基本上没有，有的也不咋绿色）\n这说明了，仅仅靠各公司的自觉或社区推动实现国内 Android 生态 App 绿色化是不现实的，而通知这个关键点更是每个公司都不愿意松手。\n这时候，需要有更强大的力量站出来，整顿当前国内 App 的通知推送乱象。于是，统一推送联盟出现了。\n 　统一推送联盟成立于2017年10月，挂靠单位是电信终端产业协会（TAF），接受工业和信息化部业务指导，住所设在北京。联盟核心任务是：探索推送行业创新，促进终端生产厂商、应用开发厂商和第三方服务提供商等进行深入合作，整合行业资源，助推形成统一的推送体系，创造绿色环境，减少与终端用户的利益冲突，提升整体行业形象，降低整体行业的实现成本，形成自律基础上的产业链协同发展，实现产业的共同繁荣。\n　统一推送联盟是在自愿、平等、互利、合作的基础上，由国内外消息推送产业相关的企、事业单位、社团组织、高等院校、科研院所等自愿结成的跨行业、开放性、非营利性的社会组织。本联盟旨在促进相关主体之间的交流和深度合作，促进供需对接和知识共享，形成优势互补，有效推进消息推送产业的发展，切实解决产业现实问题。\n——统一推送联盟《关于我们》\n 事实证明统一推送联盟是实现了巨大的影响的。\n不到两年时间里，统一推送联盟就实现了由「全民讨论统一推送后 Android 美好的幸福生活」到「全民讨论 统一推送联盟 到底黄没黄」的巨大转变。\n但是，我们要客观、发展性地看待问题，统一推送联盟一直在时刻努力着，前段时间还发表了一篇名为 《统一推送能给手机带来什么？》 的科普性文章。文章底部留言中，官方更是回复「推必达将于近期上线」。  官方回复「近期上线」 \n我也不知道我有生之年能不能等到这天了。\n题外话：让我们回头看看 QQ/WeChat 看到这里，你大概对手机系统推送有了比较全面的了解。\n那么你一定好奇，国民级软件 QQ 和 WeChat 是怎么实现手机通知推送的。\niOS 当然没有任何疑问，通过 Apple Push Notification service。\nAndroid 上则一言难尽，因为这两个 App 都没有注册任何一个推送服务。忘了 Google Play 版 WeChat 的 FCM 吧，它能不能推送完全看脸\n没有注册推送服务意味着 QQ 和 WeChat 在 Android 上实现通知推送全靠后台常驻。微信尤甚，某个进程挂了，整个 App 都收不到通知。\n保证 QQ 和 WeChat 的通知时效性一直是困扰大部分开发者和所有国内手机厂商的难题。对此大部份国内手机厂商的解决方法都是对 QQ 和 WeChat 后台无限制以最大程度保活，实现通知推送正常。\n而此时，Telegram 支持 FCM 的优点就体现出来了——对于我来说，我能第一时间收到你发给我的消息并回复，而 QQ 和 WeChat 还得等上一阵子。我希望私聊我的人用 Telegram 而不是 QQ 和 WeChat 的原因很简单：\n 我不想浪费我的时间在无意义的事情上，比如保证 QQ 和 WeChat 能及时收到消息。\n 如果你用某一品牌的手机，QQ 和 WeChat 经常收不到消息，请不要咒骂这个手机厂商。如果可以的话，请劝告你身边的人也不要这样做。手机厂商也在尽自己最大的努力，只不过他们只能尽人事听天命。\n 参考链接： 太多了，有缘再整理吧…\n","date":"2020-10-01T15:49:01Z","permalink":"https://blog.linioi.com/posts/3/","title":"浅谈手机通知推送"},{"content":" Redmi Note 7 Pro 第一个非 Port Android 11，再怎么垃圾也不得不忍啊…\n 前言 待会再补上\n刷入步骤  注意：以下为 hentaiOS 作者 Dyneteve 给出的官方刷入步骤。其他刷机方法待更新。\n如果你无法理解本文的某些内容，你可以参照这篇教程。\n 你需要准备什么？  一台电脑 (Windows 和 Linux 皆可) 一台能正常工作的 Redmi Note 7 Pro (Violet) 一双能照着教程操作的手 下载 hentaiOS 刷机包 和 AOSP Recovery ROM Flasher V4.zip 至电脑； 对于 Linux 用户，你还需要下载 linux_flash.zip   现已搬运 hentaiOS 刷机包和 AOSP Recovery 至我网盘。\n上面连接无法访问的可以试试下面的链接。\nhentaiOS 刷机包：Link\nAOSP Recovery：Link\n 那么，让我们开始…  备份你的数据，准备好相应的救砖工具以备不时之需。 关机下长按电源键和音量-进入 fastboot 模式。 使用 USB 数据线连接手机和电脑。如果可以，请尽量使用原装数据线。 输入fastboot devices检查设备是否已正常连接。如果你电脑没有配置 ADB 环境，建议参照这篇教程配置 ADB 环境。对于 Linux 用户，请自行查阅你使用的发行版所需要安装的软件包。 解压你下载的 AOSP Recovery ROM Flasher V4.zip 。 解压后文件夹目录如下  AOSP Recovery ROM Flasher V4 ├── flashme.bat ├── images ├── sideload └── windows 你可能需要手动将你下载的 hentaiOS 刷机包放入解压后的 sideload 文件夹。\n 对于 Windows 用户，请打开你解压后的文件夹，双击 flashme.bat 并等待刷入结束；对于 Linux 用户，请解压你下载的linux_flash.zip到 AOSP Recovery ROM Flasher V4.zip解压后的文件夹中。\n  长按电源键和音量+进入 AOSP Recovery。如果屏幕显示 no comand 或者 没有指令，请按一次音量+。\n  使用音量键和电源键选中Apply update from ADB。\n  电脑在命令行回车，脚本会自动刷入 ROM。进度到 49% 时可能需要你手动确认，选择 Yes 即可。\n  输入过程结束后，使用电源键和音量键选中Factory Reset，等待清除完成。\n  使用电源键和音量键选中Reboot to system，等待手机开机。\n  至此，hentaiOS 已刷入完成\n某些问题的简单解答（待更新）  Magisk 所有版本不能正常工作 TWRP 及 TWRP 魔改版本(如 OrangeFox)无法正常工作 ROM 无法解密，解密会导致The system has been destroyed 目前仅 AOSP Recovery 可以完全正常刷入 ROM，其他方式待验证  后记 待会再补上\n","date":"2020-09-17T13:05:37Z","permalink":"https://blog.linioi.com/posts/12/","title":"Violet 机型 HT OS 刷入教程"},{"content":" 一直到有一天，我们也会像讲一个神话故事一样告诉下一代：“我们这个时代，访问外国的任何互联网服务都不需要护照。”\n  上个月，欧盟议会发布了一份关于数字经济未来发展策略的研究报告，提出将建立欧盟的“互联网防火墙”，报告明确指出这个防火墙将“像中国的一样，会封锁一部分支持或者容忍（对欧盟而言的）非法行为的第三方国家的互联网服务。\n 互联网防火墙可能是有预兆的必然 不禁让我想起了去年俄罗斯开始和中国交流“互联网防火墙”的建设。\n所谓“网络主权”正在被越来越多的国家挂在嘴上，而所谓“互联网自由”逐渐变成了一个笑话。一切真如很久以前有人说的，「互联网审查并将成为世界绝大多数国家的共识，互联网自由将随着互联网的发展而有名无实」。\n历史总是相似的 此时被无数人想起的莫过于茨威格的《昨日的世界》\n 自从第一次世界大战以来，世界所经历的能让人感觉到的最大倒退，莫过于对个人行动自由的限制，以及自由权利的缩小。 在1914年以前，地球属于所有的人。每个人可以去他想去的地方，想停留多长时间就停留多长时间。没有所谓的许可，没有准入。 当我跟现在的年轻人讲到我在1914年以前去了印度和美国，没有带护照，也根本没见过护照是什么样子，我总是看到他们脸上的惊奇。 人们上车下车，不需要问什么，也不被人盘问；今天人们被要求填写的上百份表格，当时一份也不用填写。没有居留许可，没有签证，没有刁难。 今天的国界线，因为大家彼此之间病态的不信任，已经被海关、警察、哨所变成了一道铁丝网，而那时的国界线无非是一条象征性的界线，谁都可以不假思索地越过，就如同格林尼治的子午线一样。\n　——茨威格 《昨日的世界》\n 所谓自由只是在管制下的一点漏洞。当制度逐渐完善，自由只剩下狭义的自由，也就是政治中的「真正的自由」。\n想起许多年前无数人苦苦追求的“言论自由”，又与无数人把西方某些国家当作自由的标杆，心中自由的圣地，便觉得可笑到了极点，世界总是这样让人意想不到、啼笑皆非。\n引用一位博主的一段话：\n 互联网也曾撕开一个时代的裂缝，现在中文互联网上还有人在怀念上一个十年乃至上上个十年，怀念那时候自由的互联网风气，全世界的网站、服务须臾指间，点击可达——和茨威格一样，他们也认为那是理所当然。\n其实我们都不过是见证了裂缝渐渐闭合的过程而已，现在这个过程也要降临到欧洲了。一直到有一天，我们也会像讲一个神话故事一样告诉下一代：“我们这个时代，访问外国的任何互联网服务都不需要护照。”\n 恍然间，昨日如梦。\n参考文章:\n 逸文笔记  ","date":"2020-08-13T15:52:45Z","permalink":"https://blog.linioi.com/posts/13/","title":"欧盟或将仿造中国建网络防火墙"},{"content":" 没有其他发行版的一键脚本/运维面板 Arch Linux 用它的方式体现着它的超凡脱俗 其实就是用的人太少，没人写脚本\n 对 Arch Linux 进行一次全面更新 话说，这不是每天开机第一件事吗\nsudo pacman -Syu 安装 Nginx Arch Linux 软件库中有两个版本的 Nginx，分别是 nginx 和 nginx-mainline，与 Nginx 官方的两个版本对应。nginx 理论上更加稳定，但版本比较旧， 而 nginx-mainline 是 Nginx 最新的版本。 但这并不表示 nginx-mainline = 不稳定。实际上 nginx.org 官网说明，如果没有非常必要的原因，则推荐使用 nginx mainline。 输入如下命令安装旧版本 Nginx。\nsudo pacman -S nginx 安装 nginx-mainline。（本教程安装的是 mainline）\nsudo pacman -S nginx-mainline 以上两条命令默认会自动安装 geoip 和 geoip-database 两个软件包。安装完成后，使用 systemctl 来查看其状态。\nsystemctl status nginx 输出：\n● nginx.service - A high performance web server and a reverse proxy server Loaded: loaded (/usr/lib/systemd/system/nginx.service; enabled; vendor preset: disabled) Active: active (running) since Tue 2016-04-12 13:10:57 CST; 1 day 7h ago Main PID: 2010 (nginx) Tasks: 2 (limit: 512) CGroup: /system.slice/nginx.service ├─2010 nginx: master process /usr/bin/nginx -g pid /run/nginx.pid; daemon on; master_process on └─2011 nginx: worker process 如果 Nginx 未运行，则输入以下的命令启动它。\nsudo systemctl start nginx #启动 Nginx sudo systemctl enable nginx #设置 Nginx 开机自启动 输入如下命令可查看 Nginx 的版本号\n[user@arch ~]$ nginx -v nginx version: nginx/1.9.14 在浏览器中输入 Arch Linux 服务器的 IP 地址，如果看见如下文字，则说明 Nginx 在正常运行。 如果你不知道服务器公网 IP，可以输入这条命令查看。\ncurl http://icanhazip.com 如果你是在本地主机安装，那么直接在浏览器地址栏输入 127.0.0.1 即可。\n安装 MariaDB 2013 年开始，Arch Linux 将 MariaDB 作为默认的 SQL 数据库软件，Oracle 的 MySQL 则被丢进 AUR（（（\n输入如下命令安装 MariaDB\nsudo pacman -S mariadb 在启动 MariaDB 服务之前，需要使用用 mysql_install_db命令初始化 MariaDB 的数据目录\nsudo mysql_install_db --user=mysql --basedir=/usr --datadir=/var/lib/mysql 启动 MariaDB 服务。\nsudo systemctl start mysqld 查看 MariaDB 状态。\nsystemctl status mysqld 输出：\n● mysqld.service - MariaDB database server Loaded: loaded (/usr/lib/systemd/system/mysqld.service; disabled; vendor preset: disabled) Active: active (running) since Wed 2016-04-13 21:09:45 CST; 5s ago Process: 8373 ExecStartPost=/usr/bin/mysqld-post (code=exited, status=0/SUCCESS) Main PID: 8372 (mysqld) Tasks: 26 (limit: 512) CGroup: /system.slice/mysqld.service └─8372 /usr/bin/mysqld --pid-file=/run/mysqld/mysqld.pid 设置 MariaDB 开机自启动。\nsudo systemclt enable mysqld 运行安全安装脚本。\nsudo mysql_secure_installation 它会询问你 MariaDB 的 root 密码，因为我们没有设置密码，所以按 Enter 键，再设置一个 root 密码。然后选择删除 test 数据库，anonymous 用户以及禁用 root 用户远程登录。\n查看 MariaDB 的版本。\n[user@arch ~]$ mysql --version mysql Ver 15.1 Distrib 10.1.13-MariaDB, for Linux (x86_64) using readline 5.1 默认的配置文件位置为 /etc/mysql/my.cnf。\n第 4 步：安装 PHP7 Arch Linux 软件库的 PHP 一般都是最新版本（目前是 7.4 版本）\nsudo pacman -S php-fpm 安装后，修改 Nginx 配置文件以使 Nginx 使用 php-fpm 来运行 PHP。编辑/etc/nginx/nginx.conf 文件。\nsudo nano /etc/nginx/nginx.conf 找到 location ~ .php$这部分的配置，将这部分配置修改成如下。\nlocation ~ \\.php$ { root /usr/share/nginx/html; fastcgi_pass unix:/run/php-fpm/php-fpm.sock; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; } 保存文件。然后启动 php-fpm，并设置开机自启动。\nsudo systemctl start php-fpm sudo systemctl enable php-fpm 第 5 步：测试 PHP 在网站根目录创建一个 test.php 文件。默认的网站根目录是/usr/share/nginx/html。\nsudo nano /usr/share/nginx/html/test.php 在文件中添加如下 PHP 代码。\n\u0026lt;?php phpinfo(); ?\u0026gt;保存文件。重新加载 Nginx。\nsudo systemctl reload nginx 然后在浏览器地址栏输入 http://你服务器或本地主机IP/test.php。将 server-ip 替换成 Arch Linux 服务器或本地主机 IP。 此时，浏览器会显示有关 PHP 到底信息，这意味着你已修改成功。\ntest.php 文件只是用来测试 PHP 的，为了不让他人看见服务器的信息，测试之后要将它删除。\nsudo rm /usr/share/nginx/html/test.php 启用 PHP 扩展 编辑 /etc/php/php.ini 配置文件。\nsudo nano /etc/php/php.ini 找到如下两行文字，去掉前面的#符号以启用 mysqli 和 pdo_mysql。\n;extension=mysqli.so ;extension=pdo_mysql.so mysqli.do 用来建立数据库连接。pdo_mysql.so 是 drupal 内容管理系统所必要的 PHP 扩展。如果需要在 WordPress, Drupal 内容管理系统中剪裁、旋转图片，那么需要启用 imagemagick 这个扩展。\n安装教程到此结束。\n转载自\n Install Nginx, MariaDB, PHP7 (LEMP) on Arch Linux Server in 2019 转载略有修改  ","date":"2020-05-30T20:31:49Z","permalink":"https://blog.linioi.com/posts/5/","title":"Arch Linux 服务器安装 LNMP"},{"content":" 无需配置 Hexo 环境~ 在任何可以打开网页的设备上即可编辑你的 Hexo 博客并部署！\n 你要先清楚某些东西…  在私有仓库下使用 GitHub Action 是不完全免费的。 对于免费用户，你每个月只能使用 GitHub Action 工作 2000 min。这个数据计算方法特别有意思，详见 GitHub   据我多次测试，对于我的博客，GitHub Action 每次部署大概要耗时 1 min。 假设你每次提交需要耗时 2 min，这意味着你如果使用私有仓库存放后续操作中的源码，你每个月只能提交 1000 次博客。折算下来，也就是说，你每天只能提交 33 次博客。\n需要特别说明的，上面的时间计算是在 Linux 环境下的计算。如果你在后续操作中使用的 Operating system 是 Windows 或 macOS ，则 GitHub Action 记录的时间分别是你实际使用时间的 2 倍和 10 倍。\n话说，如果你能做到每天提交 33 次博客，请务必留个联系方式让我认识一下。没别的意思，就是想瞻仰一下劳模的风采。\n  在测试过程中，我发现即使使用 Linux 作为 Operating system， GitHub Action 实际工作时间也和 GitHub 计费时间并不相同。 同时，我在 GitHub Action 界面发现如下文字：  This is the workflow execution time which may be different than the billed time.  如果你需要自定义域名，你的CNAME文件应放在 Hexo 源码仓库的 source 文件夹下。 hexo-action@v1.0.0 会自动删除项目仓库下的.deploy_git文件。即每次提交源码后，部署 Hexo 的那个仓库的所有历史提交将会被清空。这个问题在 hexo-action@1.0.1 被修复。我认为这个修复是不合理的。 如果需要添加额外的 node module，则在package.json中添加相应依赖。  默认已满足的条件  已注册 GitHub 账号 已有一个部署到 GitHub 且工作正常的 Hexo 博客 有一定动手能力   接下来，让我们开始……\n方法一  部署集成环境  GitHub 建立一个新的仓库，公有还是私有，取决于你的选择。建议此时生成 SSH 密匙简化后续提交过程。   特别提醒，对于 GitHub 免费用户，私有仓库每个月的数据传输上限为 1GB。 \u0026lt;===该部分内容源自 GitHub 文档，但是实际操作中并未发现该现象，目前还在考证中。 GitHub Actions 部署时使用的数据不会计入数据传输上限。\n 在博客源码中新建.github/workflows/hexo.yml文件，在文件添加如下内容：  name: Deploy # workflow 名字 on: [push] # 触发事件 jobs: build: # Job 1 ID runs-on: ubuntu-latest # 设定运行环境为最新版 Ubuntu，如果你有把握的话，你也可以改成其它运行环境。参见文末备注。 name: Deploy blog. steps: - name: Checkout # Step 1 获取源码 uses: actions/checkout@v1 # 使用 actions/checkout@v1 with: # 条件 submodules: true ## Checkout private submodules(themes or something else).参见文末备注。 # Caching dependencies to speed up workflows. (GitHub will remove any cache entries that have not been accessed in over 7 days.) 缓存压缩 node_modules，不用每次下载，使用时解压，可以加快工作流的执行过程，超过 7 天没有使用将删除压缩包。 - name: Cache node modules # Step 2 uses: actions/cache@v1 id: cache with: path: node_modules key: ${{ runner.os }}-node-${{ hashFiles(\u0026#39;**/package-lock.json\u0026#39;) }} restore-keys: | ${{ runner.os }}-node- - name: Install Dependencies # Step 3  if: steps.cache.outputs.cache-hit != \u0026#39;true\u0026#39; # 如果变量 cache-hit 不等于 true run: npm install # 安装 NPM 相关依赖 # Deploy hexo blog website. - name: Deploy # Step 4 id: deploy uses: sma11black/hexo-action@v1.0.1 with: deploy_key: ${{ secrets.DEPLOY_KEY }} user_name: your github name #你 GitHub 用户名。如果去除该行则使用 bot。去除该行是不推荐行为。 user_email: yourgithubemail@example.com #你 GitHub 邮箱。如果去除该行则使用 bot。去除该行是不推荐行为。 commit_msg: ${{ github.event.head_commit.message }} #Hexo 部署博客的自动提交备注 部分内容需要根据你实际情况修改为相应内容\npush 你的博客源码到刚刚新建的仓库。   建议在 push 前进行一次 hexo clean。且在每一次hexo g后准备 push，都应该进行一次 hexo clean\n 输入如下命令再生成一对 SSH 密匙。  ssh-keygen -t rsa -f ~/.ssh/id_rsa_a -C \u0026#34;example@example.com\u0026#34; 如果你使用的是未预安装 OpenSSH 软件的 Linux 发行版，你需要先安装 OpenSSH 再进行如下步骤。 命令中的邮箱填自己 GitHub 的邮箱。此时会在本地生成一对公匙和私匙。\n 打开你 GitHub 存放源码的那个仓库，转到Settings \u0026gt; Secrets，创建一个名为DEPLOY_KEY的Secret，复制上面生成的私匙内容。复制内容应该包含私匙开始的\u0026mdash;\u0026ndash;BEGIN OPENSSH PRIVATE KEY\u0026mdash;\u0026ndash; 和结束的 \u0026mdash;\u0026ndash;END OPENSSH PRIVATE KEY\u0026mdash;\u0026ndash;\n  打开你部署博客的那个仓库，即仓库名为 yourgithubname.github.io 的那个仓库，转到Settings \u0026gt; Deploy Keys，输入上面生成的公匙，勾选 “Allow write access”并确定。\n  享受你的 GitHub CI 吧~\n  备注内容（可以不看）  其他可选的运行环境请参见 GitHub 关于 Submodules 参见 GitHub  方法二   打开 github.com\n  在 Settings - Developer settings - Personal access tokens - Generate new token 中创建密钥，勾选 Repo，拉到最下面，Generate token，接着将生成的 Token 保存下来（Token 只会出现一次，请务必妥善保管）\n  在你 Hexo 博客文件仓库/分支所在的仓库 的 Settings - Secrets - Add a new secret 创建俩个变量分别是 GH_REF 和 GH_TOKEN。 GH_REF 内容为你 GitHub Pages 仓库的地址（不需要包含 https） GH_TOKEN 内容为上面所获取的 Token。\n  如果你对自动部署细节不感兴趣，可以直接跳转 成品 复制并根据自己情况修改即可。\n配置内容 1.名称(这个随意取)\nname: Hexo Blog Deploy 2.指定触发 workflow 的事件，这里选择的是推送至指定分支的事件\non: push: # 这里是推送事件 branches: - master # 这里指定了推送的分支 3.设置时区，这里设置的是上海的\nenv: TZ: Asia/Shanghai 4.指定 workflow 所运行的系统，此处设置的是最新 Ubuntu。\nblog-cicd: name: Hexo build runs-on: ubuntu-latest 5.检出代码，设置 Node 环境\n- name: Checkout codes uses: actions/checkout@v2 - name: Setup node uses: actions/setup-node@v1.1.0 with: node-version: \u0026#34;12.x\u0026#34; # Node 的版本 6.同步子模块。如果没有使用子模块的话，这一步可以忽略。\n- name: Checkout submodules run: |auth_header=\u0026#34;$(git config --local --get http.https://github.com/.extraheader)\u0026#34; git submodule sync --recursive git -c \u0026#34;http.extraheader=$auth_header\u0026#34; -c protocol.version=2 submodule update --init --force --recursive --depth=1 7.缓存 .npm 目录，加快构建速度\n- name: Cache Node Dependencies # Npm 缓存，这一步报错的话，把这部分删掉即可 id: cache uses: actions/cache@v1 with: path: .npm key: ${{runner.OS}}-npm-caches-${{ hashFiles(\u0026#39;package-lock.json\u0026#39;) }} 8.安装依赖。我建议，如果可以，请每次都执行以下步骤。\n- name: Install dependencies run: |npm install hexo-cli -g npm install 9.生成文件。\n- name: Generate files run: | hexo clean \u0026amp;\u0026amp; hexo generate 10.将 GitHub Pages 仓库克隆下来，并将 .git 目录移动到生成文件的文件夹文件夹中（这样可以保留之前的 commit 记录），然后再将其推送到 GitHub Pages\n- name: Deploy blog run: |git clone \u0026#34;https://${{ secrets.GH_REF }}\u0026#34; deploy_git mv ./deploy_git/.git ./public/ cd ./public git config --local user.email \u0026#34;your@email\u0026#34; # 你的邮箱 git config --local user.name \u0026#34;yourname\u0026#34; # 你的用户名 git add . git commit -m \u0026#34;GitHub Actions Auto Builder at $(date +\u0026#39;%Y-%m-%d %H:%M:%S\u0026#39;)\u0026#34; git push --force \u0026#34;https://${{ secrets.GH_TOKEN }}@${{ secrets.GH_REF }}\u0026#34; master:master 成品 最后的 workflow\nname: Blog Deploy on: push: branches: - master env: TZ: Asia/Shanghai jobs: blog-cicd: name: Hexo build and deploy runs-on: ubuntu-latest steps: - name: Checkout codes uses: actions/checkout@v2 - name: Setup node uses: actions/setup-node@v1.1.0 with: node-version: \u0026#34;12.x\u0026#34; # 若需要同步子模块的话，将下面的注释删掉即可 # # - name: Checkout submodules # run: | # auth_header=\u0026#34;$(git config --local --get http.https://github.com/.extraheader)\u0026#34; # git submodule sync --recursive # git -c \u0026#34;http.extraheader=$auth_header\u0026#34; -c protocol.version=2 submodule update --init --force --recursive --depth=1 - name: Cache Node Dependencies # Npm 缓存，这一步报错的话，把这部分删掉即可 id: cache uses: actions/cache@v1 with: path: .npm key: ${{runner.OS}}-npm-caches-${{ hashFiles(\u0026#39;package-lock.json\u0026#39;) }} - name: Install dependencies run: |npm install hexo-cli -g npm install - name: Generate files run: | hexo clean \u0026amp;\u0026amp; hexo generate - name: Deploy blog run: |git clone \u0026#34;https://${{ secrets.GH_REF }}\u0026#34; deploy_git mv ./deploy_git/.git ./public/ cd ./public git config --local user.email \u0026#34;your@email\u0026#34; # 你的邮箱 git config --local user.name \u0026#34;yourname\u0026#34; # 你的用户名 git add . git commit -m \u0026#34;GitHub Actions Auto Builder at $(date +\u0026#39;%Y-%m-%d %H:%M:%S\u0026#39;)\u0026#34; git push --force \u0026#34;https://${{ secrets.GH_TOKEN }}@${{ secrets.GH_REF }}\u0026#34; master:master 我的配置文件 如果你还是无法理解的话，可以直接复制我的配置文件，然后修改用户名和邮箱为自己 GitHub 的用户名和邮箱。\n Note：请注意修改 Clone themes 中的主题链接为你所用的主题的 URL\n name: GitHub Auto Buider For Blog on: push: branches: - master schedule: - cron: \u0026#39;0 21 * * *\u0026#39; env: TZ: Asia/Shanghai jobs: blog-cicd: name: Hexo build and deploy runs-on: ubuntu-latest steps: - name: Checkout codes uses: actions/checkout@v2 - name: Setup node uses: actions/setup-node@v1.1.0 with: node-version: \u0026#34;12.x\u0026#34; - name: Clone themes run: | git clone -b dev https://github.com/YunYouJun/hexo-theme-yun.git themes/yun - name: Cache Node Dependencies id: cache uses: actions/cache@v1 with: path: .npm key: ${{runner.OS}}-npm-caches-${{ hashFiles(\u0026#39;package-lock.json\u0026#39;) }} - name: Install dependencies run: |npm install hexo-cli -g npm install npm audit fix - name: Generate files run: | hexo clean \u0026amp;\u0026amp; hexo generate - name: Deploy blog run: |git clone \u0026#34;https://${{ secrets.GH_REF }}\u0026#34; deploy_git mv ./deploy_git/.git ./public/ cd ./public git config --local user.email \u0026#34;xxxx\u0026#34; # 你的邮箱 git config --local user.name \u0026#34;RimuruW\u0026#34; # 你的用户名 git add . git commit -m \u0026#34;GitHub Actions Auto Builder at $(date +\u0026#39;%Y-%m-%d %H:%M:%S\u0026#39;)\u0026#34; git push --force \u0026#34;https://${{ secrets.GH_TOKEN }}@${{ secrets.GH_REF }}\u0026#34; master:master 参考文档：\n Hexo-Action Lufs\u0026rsquo;s blog  ","date":"2020-04-29T01:47:09Z","permalink":"https://blog.linioi.com/posts/9/","title":"GitHub Action 实现 Hexo 博客持续集成"},{"content":" 对于大多数刷机用户而言，好用的第三方 Recovery 可以无疑可以带来许多便利\n 刷入适合你机型的第三方 Recovery 目前推荐的第三方 Recovery 有 OrangeFox 和 TeamWinRecoveryProject （即 TWRP）\nWindows 操作系统下 ADB 环境配置请参阅该链接\n OrangeFox 是基于 TWRP 制作的。你可以理解为 TWRP 的魔改版本\n 刷入步骤   手机关机，长按 音量减键 + 电源键 进入 FASTBOOT 模式。用数据线把手机和电脑连接起来。\n  以 OrangeFox 为示例。在上述步骤的下载后会得到一个压缩包，打开该压缩包，解压其中的 recovery.img 到任意一个位置。(压缩包是为了在有第三方 Recovery 的情况下刷入/更新 OrangeFox ，但是我们目前并没有，所以我们需要解压其中的 recovery.img 来使用 fastboot 刷入。)\n如果你选择使用 LR.Team 定制版 TWRP，可以选择一键刷入版，就不会有下一步复杂的操作。\n  打开 cmd （或者其它终端），输入 fastboot flash recovery 上一步解压的 recovery.img 的文件地址 。以下是一个示例：\nC:\\Users\\XXXX\u0026gt;fastboot flash recovery D:\\recovery.img Sending 'recovery' (65536 KB) OKAY [ 2.040s] Writing 'recovery' OKAY [ 0.368s] Finished. Total time: 2.427s 如果出现\n'fastboot' 不是内部或外部命令，也不是可运行的程序或批处理文件。 说明你没有配置好 ADB 环境。\n  在上一步的状态下，长按 音量加键 + 电源键 进入 Recovery 模式。（当然你也可以使用 fastboot reboot recovery 来进入 Recovery 模式，但是我没成功过（\n  一般情况下，会出现一个英文界面，从上往下依次写着 Mount Dectypt ，这是让你解密 Data 。输入你的锁屏密码即可，记得输入完后点击右下角的勾。\n  经过十秒左右秒钟的解密后，不出意外会显示欢迎界面，点击屏幕下方勾即可。然后就是挂载 System 的界面，滑动下方滑块即可。最后就进入了主界面。下图依次是 欢迎界面 \u0026ndash;\u0026gt; 挂载 System 界面 \u0026ndash;\u0026gt; 主界面。\n  如果需要改简体中文，点击底部的 Menu \u0026ndash;\u0026gt; 右上角的齿轮图标 \u0026ndash;\u0026gt; Regional \u0026ndash;\u0026gt; 点击 Language 下的 English ，选择 Chinese Simplified 。\n  一点小小的补充   给手机刷入 Recovery ，电脑不必是 Windows 系统。Linux 发行版同样可以安装相应软件包然后输入上述指令安装，这里不再赘述，请参阅 Google 开发者文档。注意，Linux 下执行 fastboot 需要在 ROOT 用户下执行。\n  给手机刷入 Recovery 其实也不需要电脑，用另一部手机借助 Termux 也是同样可以的。在 Termux 配置好 ADB 环境后，照上述步骤刷入即可。安装 Termux 的那部手机无需 ROOT。\n  ","date":"2020-04-13T11:46:44Z","permalink":"https://blog.linioi.com/posts/8/","title":"通过 ADB 给手机刷入第三方 Recovery"},{"content":" PE 即 Pixel Experience。Violet 为 Redmi Note 7 Pro 的机型代号，同时，该机型也是 PE 现维护机型之一。\n  注意：由于 Violet 机型 PE/Plus 已更换维护者，本教程刷入方法已作废，现 PE/Plus 刷入方法请参照 Violet 通用刷机教程\n PE/Plus 刷入教程又更新了！！ 原先的刷入教程因为 Dyneteve 一番操作，目前已经完全没有作用……\n之所以写这篇教程，是因为我发现 PE/Plus 这么优秀的 ROM 推出后竟鲜见人上车…故此，我决定再写一篇刷入教程，拖你们下水 带你们上车\n 对于有一定英语水平的用户，直接看 Dyneteve 的 Flash Guide 即可。\n 刷前需知  刷入 ROM 前，请确保你的设备已解锁 Bootloader。 建议在刷入前退出 Google 帐号和小米帐号，以免卡 Google 开机验证。   本文会提供两种刷入方式，请根据自己需求选择。 阅读本教程建议搭配这篇教程，食用效果更佳\n 方法一：  如果你电脑是 Linux 发行版，请忽略此方法。\n  下载 AOSP Recovery Flasher v4 和 PE/Plus 刷机包 如果你不使用 Telegram，可以从以下两个链接中选择一个下载。   GitHub （推荐） Google Drive （不推荐，需要审核）   解压上面下载的 AOSP Recovery Flasher v4 至电脑某个不含中文的目录。\n  复制下载好的刷机包至第 2 步解压后生成文件夹中 sideload 文件夹下。\n  手机长按电源键和音量-进入 Fastboot 模式并用数据线连接电脑。\n  打开第 2 步解压后生成的文件夹，双击 flashme.bat。\n  坐和放宽，等待 Recovery 和 Vendor 刷入完成。\n  刷入完成后，长按电源键和音量+ 进入 AOSP Recovery。若手机显示 no command 或者没有指令，请按一次音量 + 。\n  使用音量键控制光标，使用电源键选择 Apply update from ADB 。\n  在 Windows 命令行窗口回车后，选择要 sideload 的文件，输入文件前面的数字，回车，等待刷入到 47%，以下是一个示例。\n  Press POWER + VOL UP till you get to the redmi screen after you get there release after 2s Press enter after you put your recovery into sideload and the rom into the sideload folder Check your device you might need to press yes to continue flashing after 47 To select the file press press the number in front of it [1]. PixelExperience_Plus_violet-10.0-20200410-1304-OFFICIAL.zip Enter a file to load: 1 You selected PixelExperience_Plus_violet-10.0-20200410-1304-OFFICIAL.zip  输入到 47% 时，AOSP Recovery 会提示验证失败，是否继续刷入。使用手机的音量键和电源键，在上方的选项中选择 Yes，等待刷入完成。\n  刷入完成后，在 AOSP Recovery 中选择 Wipe data/factory reset ,选择 Factory data reset 。\n  Factory Reset 完成后，选择 Reboot system now 开机。\n  至此，刷入完成。\n方法二：  下载 AOSP Recovery Flasher v4 和 PE/Plus 刷机包 如果你不使用 Telegram，可以从以下两个链接中选择一个下载。   GitHub （推荐） Google Drive （不推荐，需要审核）   解压 AOSP Recovery Flasher v4 到手机任意一个你可以找到的目录。\n  打开你第 2 步解压得到的文件夹。 文件夹前几层结构大致如下：\n  ├── flashme.bat ├── images │ ├── BTFM.bin │ ├── NON-HLOS.bin │ ├── abl.elf │ ├── aop.mbn │ ├── cmnlib.mbn │ ├── cmnlib64.mbn │ ├── devcfg.mbn │ ├── dspso.bin │ ├── dtbo.img │ ├── hyp.mbn │ ├── imagefv.elf │ ├── km4.mbn │ ├── multi_image.mbn │ ├── qupv3fw.elf │ ├── recovery.img │ ├── storsec.mbn │ ├── tz.mbn │ ├── uefi_sec.mbn │ ├── vbmeta.img │ ├── vendor.img │ ├── xbl.elf │ └── xbl_config.elf ├── sideload ├── t.md └── windows ├── AdbWinApi.dll ├── AdbWinUsbApi.dll ├── NOTICE.txt ├── adb.exe ├── api ├── dmtracedump.exe ├── etc1tool.exe ├── fastboot.exe ├── hprof-conv.exe ├── lib64 ├── libwinpthread-1.dll ├── make_f2fs.exe ├── mke2fs.conf ├── mke2fs.exe ├── sideload.bat ├── source.properties ├── sqlite3.exe └── systrace 找到 images 文件夹下 vendor.img 文件，并解压至任意一个你可以找到的目录下。\n手机参照此教程刷入第三方 Recovery   据反馈，使用 TWRP 刷入可能出现不开机情况。 建议使用 OrangeFox 刷入。\n  手机长按音量+和电源键进入第三方 Recovery。\n  在第三方 Recovery 中点击清除-高级清除。勾选 Davilk Cache + Cache + Data + System，滑动清除。\n  按返回键返回主界面，选择安装，找到你解压的 vendor.img 刷入到 Vendor 分区。\n  返回到安装界面，找到你下载的 PE/Plus 刷机包，滑动刷入。不要勾选签名校验和自动重启\n  按返回键回到主界面，选择清除-格式化 Data。输入 yes 确定。\n  PE/Plus 会将 Recovery 替换成 AOSP Recovery。如果不想 Recovery 被替换，请在开机前刷入 Magisk。\n  刷入教程至此结束。\nAOSP Recovery 现证实可以刷入 Magisk Installer 如果需要刷入 Magisk，直接在 AOSP Recovery 中刷入即可\n不借助 Recovery 刷入 Magisk 解压 PE 刷机包，结构大致如下：\n├── META-INF │ └── com │ ├── android │ │ ├── metadata │ │ └── otacert │ └── google │ └── android │ ├── update-binary │ └── updater-script ├── boot.img ├── firmware-update │ ├── BTFM.bin │ ├── NON-HLOS.bin │ ├── abl.elf │ ├── aop.mbn │ ├── cmnlib.mbn │ ├── cmnlib64.mbn │ ├── devcfg.mbn │ ├── dspso.bin │ ├── dtbo.img │ ├── hyp.mbn │ ├── imagefv.elf │ ├── km4.mbn │ ├── multi_image.mbn │ ├── qupv3fw.elf │ ├── storsec.mbn │ ├── tz.mbn │ ├── uefi_sec.mbn │ ├── vbmeta.img │ ├── xbl.elf │ └── xbl_config.elf ├── install │ └── bin │ ├── backuptool.functions │ └── backuptool.sh ├── system.new.dat.br ├── system.patch.dat └── system.transfer.list  找到其中的 boot.img 文件，复制至手机任何一个你可以找到的目录。 下载并安装 Magisk Manager，打开 Magisk Manager，点击 Magisk 旁的安装，点击“修补一个文件”。 选择你解压的 boot.img 文件，等待 Magisk Manager 修补完成。修补后的文件会自动存放于 Download 文件夹中。你需要将该文件传输至电脑任意一个你可以找到的目录。 配置 ADB 环境，手机进入 Fastboot 模式并连接电脑，电脑输入 fastboot flash boot boot.img。输入完后回车。 其中， boot.img 需要替换为你 boot.img 的文件地址。 如果你不知道怎么获取文件地址，或者觉得太过麻烦，你其实只需要将文件用鼠标拖入命令框。 手机开机，享受你的 Magisk 吧~~  ","date":"2020-04-13T11:44:52Z","permalink":"https://blog.linioi.com/posts/10/","title":"Violet 机型 PE/Plus 刷入教程"},{"content":"拿到手机后干什么？刷机！\n 如果你的设备出现损坏，我不会对你的设备负责！\n如果你的设备出现损坏，我不会对你的设备负责！\n如果你的设备出现损坏，我不会对你的设备负责！\n 刷机前请先看看最下面的乱七八糟的问题（\n由于 Dyneteve 的骚操作，本篇文章不针对 PE 进行说明。如果你是为了刷入 PE ，请点击此链接来刷入。\n Redmi Note 7 Pro，是 Redmi 于 2019-3-18 发布的手机。机型代号为 violet 。\n 一、得到这部手机 小米商城已经没有了，去其它地方看看吧（\n二、解锁 Bootloader 前往小米官方解锁页面申请权限并根据提示解锁。\n三、下载刷机所需文件   Android Debug Bridge\n Android 调试桥 (adb) 是一种功能多样的命令行工具，可让您与设备进行通信。adb 命令可用于执行各种设备操作（例如安装和调试应用），并提供对 Unix shell（可用来在设备上运行各种命令）的访问权限。来自 Google 官方页面。\n 具体下载和配置可参考少数派的这篇文章。\n如果你使用一键刷入之类的应用，则不需要此操作。\n  Recovery\n目前我只推荐两个 Recovery：OrangeFox 和 LR.Team 定制版 TWRP（提取码：xipd）\n  底包\n前往这里下载。一般来说，选择最新的开发版底包即可，除非 ROM 作者有特殊要求。\n有的系统自带底包，我们可以不刷入底包。\n如图，在 Device 那搜索并选择 violet ，点击 Download ，在跳转的页面中选择你需要的底包，点击 Download 来下载。\n  刷机包\n看各位喜好啦~~\n  四、刷入 Recovery   手机关机，长按 音量减键 + 电源键 进入 FASTBOOT 模式。用数据线把手机和电脑连接起来。\n  这里我以 OrangeFox 为示例。在上述步骤的下载后会得到一个压缩包，打开该压缩包，解压其中的 recovery.img 到任意一个位置。(压缩包是为了在有第三方 Recovery 的情况下刷入/更新 OrangeFox ，但是我们目前并没有，所以我们需要解压其中的 recovery.img 来使用 fastboot 刷入。)\n如果你选择使用 LR.Team 定制版 TWRP，可以选择一键刷入版，就不会有下一步复杂的操作。\n  打开 cmd （或者其它终端），输入 fastboot flash recovery 上一步解压的 recovery.img 的文件地址 。以下是一个示例：\n  C:\\Users\\XXXX\u0026gt;fastboot flash recovery D:\\recovery.img Sending 'recovery' (65536 KB) OKAY [ 2.040s] Writing 'recovery' OKAY [ 0.368s] Finished. Total time: 2.427s  如果出现 'fastboot' 不是内部或外部命令，也不是可运行的程序或批处理文件。 说明你没有配置好 ADB 环境。\n  在上一步的状态下，长按 音量加键 + 电源键 进入 Recovery 模式。（当然你也可以使用 fastboot reboot recovery 来进入 Recovery 模式，但是我没成功过（\n  一般情况下，会出现一个英文界面，从上往下依次写着 Mount Dectypt ，这是让你解密 Data 。输入你的锁屏密码即可，记得输入完后点击右下角的勾。\n  经过十秒左右秒钟的解密后，不出意外会显示欢迎界面，点击屏幕下方勾即可。然后就是挂载 System 的界面，滑动下方滑块即可。最后就进入了主界面。下图依次是 欢迎界面 \u0026ndash;\u0026gt; 挂载 System 界面 \u0026ndash;\u0026gt; 主界面。\n  如果需要改简体中文，点击底部的 Menu \u0026ndash;\u0026gt; 右上角的齿轮图标 \u0026ndash;\u0026gt; Regional \u0026ndash;\u0026gt; 点击 Language 下的 English ，选择 Chinese Simplified 。\n  五、刷入 ROM   在上一步的状态下，返回主界面，点击下方的 Menu \u0026ndash;\u0026gt; Manage Parttions \u0026ndash;\u0026gt; 选择 Data \u0026ndash;\u0026gt; 点击右下方的勾 \u0026ndash;\u0026gt; 点击 Format Data \u0026ndash;\u0026gt; 输入 yes 来格式化 Data 。\n  在上一步的状态下，回到主界面，点击下方的 Menu \u0026ndash;\u0026gt; Reboot \u0026ndash;\u0026gt; Recovery 来重启一次 Recovery 。\n  重启到 Recovery 后，点击下方的 Wipe \u0026gt; 选择你想选择清除的分区（以下是一个示例） \u0026gt; 滑动下方滑块来清除数据。清除完成后再次重启一次 Recovery 。\n  通过数据线将刷机包，底包传到手机。先选择底包，滑动下方滑块来刷入，再刷入系统（有的系统自带底包，我们不需要额外刷入底包）。刷入完成后就可以重启到系统。\n  六、φ(゜▽゜*)♪ 不出意外，我们已经成功刷入了一个系统！！！\n七、乱七八糟的问题   重启到 Recovery 后显示 The system has been destoryed （可能只会出现在官方 MIUI 系统上）？\n这个与 AVB 2.0 有关。具体请参见 Google 官方说明。\n解决方法是打开你下载的刷机包（只要不是官方 MIUI 的刷机包），解压 vbmeta.img （可能在 /firmware-update 下）到任意一个位置。手机进入 FASTBOOT 模式，电脑打开 cmd 输入 fastboot flash vbmeta 解压的 vbmeta.img 的文件地址 ，等待刷入完成，重启到 Recovery 即可。以下是一条示例命令：\nC:\\Users\\XXXX\u0026gt;fastboot flash vbmeta D:\\vbmeta.img   发现 Recovery 被替换？\n刷入 Magisk 。（如果你不想使用 Magisk，可以试试 OrangeFox 的防止还原 Recovery 的功能，在 设置 \u0026ndash;\u0026gt; OTA 下。\n  Google 开机向导无法跳过？\n看这里。（在刷机前退出原先系统登录的 Google 账户就行啦~\n  从 Dyneteve 的系统线刷到 MIUI 出现 The system has destoryed ？\n找售后！！！\n你可能线刷选择了上锁（\n所以说，刷过 Dyneteve 的系统后，回 MIUI 千万不能上锁（（（（（\n  刷机后第一次开机无限重启到 Recovery ？\n大概率是你没格式化 Data （建议去格式化一下\n  Recovery 乱码？\n 格式化 Data 换 Recovery    Google Camera 一直停止运行？\n如果你用的是基于 LOS 的系统的话，那么停止运行可能是因为你的系统中没有 GApps 。选择以下的其中之一从 Recovery 刷入即可：\n  OpenGApps，选择 ARM64 pico ，Android 那一列根据你的系统的安卓版本选择。\n  NikGApps\n  BiTGApps\n  MicroG\n  如果你确定已经安装了 GApps，仍然停止运行，那么可以换一个 Google Camera 的版本试试。\n  ","date":"2020-04-03T11:56:06Z","permalink":"https://blog.linioi.com/posts/11/","title":"如何在 Redmi Note 7 Pro 上刷机？"},{"content":" 平常用 dd 命令用的比较少，干脆记一点关于 dd 命令的笔记，自己之后可以看看\n dd 指令的解释 dd：用指定大小的块拷贝一个文件，并在拷贝的同时进行指定的转换。\n 注意：指定数字的地方若以下列字符结尾，则乘以相应的数字 例如b=512；c=1；k=1024；w=2\n 参数注释：\n if=\u0026lt;文件名\u0026gt;：输入文件名，缺省为标准输入。即指定源文件。\u0026lt; if=input file \u0026gt; of=\u0026lt;文件名\u0026gt;：输出文件名，缺省为标准输出。即指定目的文件。\u0026lt; of=output file \u0026gt; ibs=：一次读入bytes个字节，即指定一个块大小为bytes个字节。 obs=：一次输出bytes个字节，即指定一个块大小为bytes个字节。 bs=：同时设置读入/输出的块大小为bytes个字节。 cbs=：一次转换bytes个字节，即指定转换缓冲区大小。 skip=：从输入文件开头跳过blocks个块后再开始复制。 seek=：从输出文件开头跳过blocks个块后再开始复制。   注意：通常只用当输出文件是磁盘或磁带时才有效，即备份到磁盘或磁带时才有效。\n  count=blocks：仅拷贝blocks个块，块大小等于ibs指定的字节数。 conv=conversion：用指定的参数转换文件。   ascii：转换ebcdic为ascii ebcdic：转换ascii为ebcdic ibm：转换ascii为alternate ebcdic block：把每一行转换为长度为cbs，不足部分用空格填充 unblock：使每一行的长度都为cbs，不足部分用空格填充 lcase：把大写字符转换为小写字符 ucase：把小写字符转换为大写字符 swab：交换输入的每对字节 noerror：出错时不停止 notrunc：不截短输出文件 sync：将每个输入块填充到ibs个字节，不足部分用空（NUL）字符补齐。\n dd指令应用实例  将本地的/dev/hdb整盘备份到/dev/hdd #dd if=/dev/hdb of=/dev/hdd 将/dev/hdb全盘数据备份到指定路径的image文件 #dd if=/dev/hdb of=/root/image 将备份文件恢复到指定盘 #dd if=/root/image of=/dev/hdb 备份/dev/hdb全盘数据，并利用gzip工具进行压缩，保存到指定路径 #dd if=/dev/hdb | gzip \u0026gt; /root/image.gz 将压缩的备份文件恢复到指定盘 #gzip -dc /root/image.gz | dd of=/dev/hdb 备份与恢复MBR 备份磁盘开始的512个字节大小的MBR信息到指定文件： #dd if=/dev/hda of=/root/image count=1 bs=512 恢复： #dd if=/root/image of=/dev/had 将备份的MBR信息写到磁盘开始部分   count=1指仅拷贝一个块；bs=512指块大小为512个字节。\n  备份软盘 #dd if=/dev/fd0 of=disk.img count=1 bs=1440k (即块大小为1.44M) 拷贝内存内容到硬盘 #dd if=/dev/mem of=/root/mem.bin bs=1024 (指定块大小为1k) 拷贝光盘内容到指定文件夹，并保存为cd.iso文件 #dd if=/dev/cdrom(hdc) of=/root/cd.iso 增加swap分区文件大小 第一步：创建一个大小为256M的文件： #dd if=/dev/zero of=/swapfile bs=1024 count=262144 第二步：把这个文件变成swap文件： #mkswap /swapfile 第三步：启用这个swap文件： #swapon /swapfile 第四步：编辑/etc/fstab文件，使在每次开机时自动加载swap文件： swapfile swap swap default 0 0 销毁磁盘数据 #dd if=/dev/urandom of=/dev/hda1   注意：利用随机的数据填充硬盘，在某些必要的场合可以用来销毁数据。\n  测试硬盘的读写速度  dd if=/dev/zero bs=1024 count=1000000 of=/root/1Gb.file` dd if=/root/1Gb.file bs=64k | dd of=/dev/null 通过以上两个命令输出的命令执行时间，可以计算出硬盘的读、写速度。\n 确定硬盘的最佳块大小：  dd if=/dev/zero bs=1024 count=1000000 of=/root/1Gb.file dd if=/dev/zero bs=2048 count=500000 of=/root/1Gb.file dd if=/dev/zero bs=4096 count=250000 of=/root/1Gb.file dd if=/dev/zero bs=8192 count=125000 of=/root/1Gb.file 通过比较以上命令输出中所显示的命令执行时间，即可确定系统最佳的块大小。\n 修复硬盘： #dd if=/dev/sda of=/dev/sda或dd if=/dev/hda of=/dev/hda   若硬盘较长时间(一年以上)放置不使用，磁盘上会产生magnetic flux point。当磁头读到这些区域时会遇到困难，并可能导致I/O错误。 当这种情况影响到硬盘的第一个扇区时，可能导致硬盘报废。上边的命令有可能使这些数据起死回生。并且这个过程是安全、高效的。\n  利用netcat远程备份 #dd if=/dev/hda bs=16065b | netcat \u0026lt; targethost-IP \u0026gt; 1234 在源主机上执行此命令备份/dev/hda #netcat -l -p 1234 | dd of=/dev/hdc bs=16065b 在目的主机上执行此命令来接收数据并写入/dev/hdc  netcat -l -p 1234 | bzip2 \u0026gt; partition.img netcat -l -p 1234 | gzip \u0026gt; partition.img 以上两条指令是目的主机指令的变化分别采用bzip2、gzip对数据进行压缩，并将备份文件保存在当前目录。\n 将一个大视频文件的第i个字节的值改成0x41（大写字母A的ASCII值） #echo A | dd of=bigfile seek=$i bs=1 count=1 conv=notrunc 建立linux虚拟盘，用文件模拟磁盘   在进行linux的实验中，如果没有多余的硬盘来做测试。则可以在linux下使用文件来模拟磁盘，以供测试目的。 其模拟过程如下所示，摘录自《Oracle数据库核心技术与实务详解－教你如何成为Oracle 10g OCP》一书。\n 1)以root用户创建一个ASM磁盘所在的目录。\n#mkdir –p /u01/asmdisks\n2)通过dd命令创建6个400M大小的文件，每个文件代表一块磁盘。\n[root@book u01]# cd asmdisks [root@book asmdisks]# dd if=/dev/zero of=asm_disk1 bs=1024k count=400 [root@book asmdisks]# dd if=/dev/zero of=asm_disk2 bs=1024k count=400 [root@book asmdisks]# dd if=/dev/zero of=asm_disk3 bs=1024k count=400 [root@book asmdisks]# dd if=/dev/zero of=asm_disk4 bs=1024k count=400 [root@book asmdisks]# dd if=/dev/zero of=asm_disk5 bs=1024k count=400 [root@book asmdisks]# dd if=/dev/zero of=asm_disk6 bs=1024k count=400 3)将这些文件与裸设备关联。\n[root@book asmdisks]# chmod 777 asm_disk* [root@book asmdisks]# losetup /dev/loop1 asm_disk1 [root@book asmdisks]# losetup /dev/loop2 asm_disk2 [root@book asmdisks]# losetup /dev/loop3 asm_disk3 [root@book asmdisks]# losetup /dev/loop4 asm_disk4 [root@book asmdisks]# losetup /dev/loop5 asm_disk5 [root@book asmdisks]# losetup /dev/loop6 asm_disk6  注意：如果要删除通过dd模拟出的虚拟磁盘文件的话，直接删除模拟出的磁盘文件 （也就是asm_disk1、asm_disk2…asm_disk6）还不够，还必须执行losetup -d /dev/loopN，在这里N从1到6。否则，磁盘文件所占用的磁盘空间不能释放\n ","date":"2020-03-29T23:42:43Z","permalink":"https://blog.linioi.com/posts/6/","title":"DD 指令用法详解"},{"content":"第一篇博客，Hello world~~\n 希望自己删库跑路不要那么快\n ","date":"2020-03-24T19:01:10Z","permalink":"https://blog.linioi.com/posts/7/","title":"First Blog"}]